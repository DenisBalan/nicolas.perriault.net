<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
    <channel>
        <title>Nicolas Perriault</title>
        <link>https://nicolas.perriault.net/</link>
        <description>Nicolas Perriault's personal website.</description>
        <language>en-us</language>
        <pubDate>Mon, 29 Apr 2019 09:30:54 +0000</pubDate>
        <lastBuildDate>Mon, 29 Apr 2019 09:30:54 +0000</lastBuildDate>
        <copyright>Copyright 2010-2013 Nicolas Perriault</copyright>
        <generator>https://github.com/n1k0/nicolas.perriault.net</generator>
        <webMaster>nicolas+rss@perriault.net (Nicolas Perriault)</webMaster>
        <managingEditor>nicolas+rss@perriault.net (Nicolas Perriault)</managingEditor>
        <ttl>3600</ttl>
        
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>A short introduction to Elm</title>
            <link>https://nicolas.perriault.net/talks/2017/a-short-introduction-to-elm/</link>
            <description>&lt;p&gt;A short presentation about &lt;a href=&#34;http://elm-lang.org/&#34;&gt;Elm&lt;/a&gt; I gave at &lt;a href=&#34;https://www.meetup.com/fr-FR/MontpellierJS/&#34;&gt;MontpellierJS&lt;/a&gt;.&lt;/p&gt;
&lt;figure&gt;
    &lt;img src=&#34;/static/talks/2017/elm-presentation.jpg&#34; alt=&#34;&#34;&gt;
    &lt;figcaption&gt;
        Image courtesy of &lt;a href=&#34;http://www.weeple.fr/&#34;&gt;Fabrice Bentz&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;iframe src=&#34;//slides.com/n1k0/elm/embed&#34;
  width=&#34;660&#34;
  height=&#34;420&#34;
  scrolling=&#34;no&#34;
  frameborder=&#34;0&#34;
  webkitallowfullscreen
  mozallowfullscreen
  allowfullscreen&gt;
  &lt;p&gt;Your browser doesn&#39;t support iframes it seems.&lt;/p&gt;
&lt;/iframe&gt;</description>
            <pubDate>Wed, 25 Jan 2017 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/talks/2017/a-short-introduction-to-elm/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>From OSX to Ubuntu</title>
            <link>https://nicolas.perriault.net/code/2016/from-osx-to-ubuntu/</link>
            <description>&lt;p&gt;&lt;strong&gt;A year earlier I decided to switch from OSX to &lt;a href=&#34;http://ubuntu.com&#34;&gt;Ubuntu&lt;/a&gt;, so now is a good time to make a little retrospective. TL;DR: Linux now offers a pleasant desktop user experience and there&#39;s no way back for me.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;&amp;quot;Thou Shall Migrate&amp;quot;, says a funny penguin. Credits: Hamish Irvine&#34; src=&#34;/static/code/2016/thou-shall-migrate.jpg&#34; /&gt;&lt;/p&gt;
&lt;p&gt;I was a Linux user 10 years ago but moved to being a Mac one, mainly because I was tired of maintaining an often broken system (hello &lt;em&gt;xorg.conf&lt;/em&gt;), and Apple had quite an appealing offer at the time: a well-maintained Unix platform matching beautiful hardware, sought-after UX, access to editor apps like Photoshop and MS Office, so best of both worlds.&lt;/p&gt;
&lt;p&gt;To be frank, I was a happy Apple user in the early years, then the shine started to fade; messing up your system after upgrades became more frequent, Apple apps grown more and more bloated and intrusive (hello iTunes), UX started turning Kafkaian at times, too often I was finding myself tweaking and repairing stuff from the terminal...&lt;/p&gt;
&lt;p&gt;The trigger was pulled when Apple announced their 2015 MacBook line, with strange connectivity decisions like having a unique port for everything and using dongles: &lt;a href=&#34;https://www.wired.com/2015/03/life-macbooks-single-port-wont-easyyet/&#34;&gt;meh&lt;/a&gt;. If even their top notch hardware started to turn weird, it was probably time to look elsewhere. And now I see their latest MBP line with the &lt;a href=&#34;http://mashable.com/2016/10/27/twitter-reactions-apple-removes-escape-key/&#34;&gt;Esc key removed&lt;/a&gt; (so you can&#39;t escape anymore, haha), I&#39;m kinda comforted in my decision.&lt;/p&gt;
&lt;p&gt;Meanwhile, since I&#39;ve joined Mozilla and the &lt;a href=&#34;https://servicedenuages.fr/&#34;&gt;Storage team&lt;/a&gt;, I could see many colleagues happily using Linux, and it didn&#39;t feel like they were struggling with anything particular. Oddly enough, it seemed they were capable of working efficiently, both for professional and personal stuff.&lt;/p&gt;
&lt;p&gt;I finally took the plunge and ordered a &lt;a href=&#34;http://shop.lenovo.com/us/en/laptops/thinkpad/x-series/x1-carbon/&#34;&gt;Lenovo X1 Carbon&lt;/a&gt;, then started my journey to being a Linux user again.&lt;/p&gt;
&lt;h2&gt;Choosing a distro&lt;/h2&gt;
&lt;p&gt;I didn&#39;t debate this for days, I installed the latest available &lt;a href=&#34;http://ubuntu.com&#34;&gt;Ubuntu&lt;/a&gt; right away as it was the distribution I was using before moving to OSX (I even &lt;a href=&#34;http://www.eyrolles.com/Informatique/Livre/ubuntu-9782212116083&#34;&gt;contributed&lt;/a&gt; to a book on it!). I was used to Debian-based systems and knew Ubuntu was still acclaimed for its ease of use and great hardware support. I wasn&#39;t disappointed as on the X1 everything was recognized and operational right after the installation, including wifi, bluetooth and external display.&lt;/p&gt;
&lt;p&gt;I was greeted with the &lt;a href=&#34;https://unity.ubuntu.com/&#34;&gt;Unity&lt;/a&gt; desktop, which was disturbing as I was a Gnome user back in the days. Up to a point I installed the latter, though in its &lt;a href=&#34;https://www.gnome.org/gnome-3/&#34;&gt;version 3 flavor&lt;/a&gt;, which was also new to me.&lt;/p&gt;
&lt;p&gt;I like Gnome3. It&#39;s simple, configurable and made me feel productive fast. Though out of bad luck or skills and time to spend investigating, a few things were not working properly: fonts were huge in some apps and normal in others, external display couldn&#39;t be configured to a different resolution and dpi ratio than my laptop&#39;s, things like that. After a few weeks, I switched back to Unity, and I&#39;m still happily using it today as it has nicely solved all the issues I had with Gnome (which I still like a lot though).&lt;/p&gt;
&lt;h2&gt;The pain points when coming from OSX&lt;/h2&gt;
&lt;p&gt;Let&#39;s be honest, the Apple keyboard French layout is utter crap, but as many things involving muscle memory, once you&#39;re used to it, it&#39;s a pain in the ass to readapt to anything else. I struggled for something like three weeks fighting old habits in this area, then eventually got through.&lt;/p&gt;
&lt;p&gt;Last, a bunch of OSX apps are not available on Linux, so you have to find their equivalent, when they exist. The good news is, most often they do.&lt;/p&gt;
&lt;h2&gt;The Web is your App Store&lt;/h2&gt;
&lt;p&gt;What also changed in last ten years is the explosion of the Web as an application platform. While &lt;a href=&#34;https://www.libreoffice.org/&#34;&gt;LibreOffice&lt;/a&gt; and &lt;a href=&#34;https://www.gimp.org/&#34;&gt;The Gimp&lt;/a&gt; are decent alternatives to MS Office and Photoshop, you now have access to many similarly scoped Web apps like Google Docs and &lt;a href=&#34;https://pixlr.com/&#34;&gt;Pixlr&lt;/a&gt;, provided you&#39;re connected to the Internet. Just ensure using a modern Web browser like Firefox, which luckily ships by default in Ubuntu.&lt;/p&gt;
&lt;p&gt;For example I use &lt;a href=&#34;https://www.irccloud.com/&#34;&gt;IRCCloud&lt;/a&gt; for IRC, as Mozilla has a corporate account there. The cool thing is it acts as a bouncer so it keeps track of messages when you go offline, and has a nice &lt;a href=&#34;https://play.google.com/store/apps/details?id=com.irccloud.android.enterprise&amp;amp;hl=en&#34;&gt;Android app&lt;/a&gt; which syncs.&lt;/p&gt;
&lt;h2&gt;When the Web isn&#39;t enough&lt;/h2&gt;
&lt;p&gt;There is obviously lots of things Web apps can&#39;t do, like searching your local files or updating your system. And let&#39;s admit that sometimes for specific tasks native apps are still more efficient and better integrated (by definition) than what the Web has to offer.&lt;/p&gt;
&lt;h3&gt;Launcher &amp;amp; file search&lt;/h3&gt;
&lt;p&gt;I was a hardcore &lt;a href=&#34;https://www.alfredapp.com/&#34;&gt;Alfred.app&lt;/a&gt; user on OSX. On Linux there&#39;s quite no strict equivalent though  &lt;a href=&#34;https://help.ubuntu.com/lts/ubuntu-help/unity-dash-intro.html&#34;&gt;Unity Dash&lt;/a&gt;, &lt;a href=&#34;https://github.com/ManuelSchneid3r/albert&#34;&gt;Albert&lt;/a&gt; or &lt;a href=&#34;http://lifehacker.com/5704221/synapse-is-a-super-fast-tightly-integrated-application-launcher-for-linux&#34;&gt;synapse&lt;/a&gt; can cover most of its coolness.&lt;/p&gt;
&lt;figure&gt;
    &lt;img src=&#34;/static/code/2016/unity-dash.gif&#34; alt=&#34;Unity Dash in action&#34; style=&#34;width:100%;border-radius:5px&#34;&gt;
    &lt;figcaption&gt;Unity Dash in action&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;
    &lt;img src=&#34;/static/code/2016/synapse.gif&#34; alt=&#34;synapse in action&#34; style=&#34;width:100%;border-radius:5px&#34;&gt;
    &lt;figcaption&gt;synapse in action&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;If you use the text shortcuts feature of Alfred (or if you use &lt;a href=&#34;https://smilesoftware.com/textexpander&#34;&gt;TextExpander&lt;/a&gt;), you might be interested in &lt;a href=&#34;https://github.com/autokey/autokey/wiki&#34;&gt;AutoKey&lt;/a&gt; as well.&lt;/p&gt;
&lt;h3&gt;File manager&lt;/h3&gt;
&lt;p&gt;I couldn&#39;t spot any obvious usability difference between &lt;a href=&#34;https://wiki.gnome.org/action/show/Apps/Nautilus&#34;&gt;Nautilus&lt;/a&gt; and the &lt;a href=&#34;https://support.apple.com/en-us/HT201732&#34;&gt;OSX Finder&lt;/a&gt;, but I mostly use their basic features anyway.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;Nautilus in action&#34; src=&#34;/static/code/2016/nautilus.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;To emulate Finder&#39;s &lt;a href=&#34;https://en.wikipedia.org/wiki/Quick_Look&#34;&gt;QuickLook&lt;/a&gt;, &lt;a href=&#34;https://community.linuxmint.com/software/view/gnome-sushi&#34;&gt;sushi&lt;/a&gt; does a proper job.&lt;/p&gt;
&lt;h3&gt;Code editors&lt;/h3&gt;
&lt;p&gt;The switch shouldn&#39;t be too hard as most popular editors are available on Linux: &lt;a href=&#34;https://www.sublimetext.com/3&#34;&gt;Sublime Text&lt;/a&gt;, &lt;a href=&#34;https://atom.io/&#34;&gt;Atom&lt;/a&gt;, &lt;a href=&#34;https://code.visualstudio.com/download&#34;&gt;VSCode&lt;/a&gt; and obviously vim and emacs.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;&#34; src=&#34;/static/code/2016/atom.png&#34; /&gt;&lt;/p&gt;
&lt;h3&gt;Terminal&lt;/h3&gt;
&lt;p&gt;I was using &lt;a href=&#34;https://www.iterm2.com/&#34;&gt;iTerm2&lt;/a&gt; on OSX, so I was happy to find out about &lt;a href=&#34;https://gnometerminator.blogspot.fr/p/introduction.html&#34;&gt;Terminator&lt;/a&gt;, which also supports tiling &amp;amp; split panes.&lt;/p&gt;
&lt;h3&gt;Task switching, exposé&lt;/h3&gt;
&lt;p&gt;Unity provides a classic &lt;code&gt;alt+tab&lt;/code&gt; switcher and an Exposé-style overview, just like OSX.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;Exposé in Unity&#34; src=&#34;/static/code/2016/expose.jpg&#34; /&gt;&lt;/p&gt;
&lt;h3&gt;Photography&lt;/h3&gt;
&lt;p&gt;I&#39;ve been a super hardcore &lt;a href=&#34;https://lightroom.adobe.com/&#34;&gt;Lightroom&lt;/a&gt; user and lover, but eventually found &lt;a href=&#34;http://www.darktable.org/&#34;&gt;Darktable&lt;/a&gt; and am perfectly happy with it now. Its ergonomics take a little while to get used to though.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;DarkTable in action&#34; src=&#34;/static/code/2016/darktable.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If you want to get an idea of what kind of results it can produce, take a look at my &lt;a href=&#34;https://500px.com/n1k0/galleries/nyc&#34;&gt;NYC gallery on 500px&lt;/a&gt;, fwiw all the pictures have been processed using DarkTable.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://500px.com/n1k0/galleries/nyc&#34;&gt;&lt;img alt=&#34;Sample picture processed with DarkTable&#34; src=&#34;/static/code/2016/darktable-sample.jpg&#34; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;small&gt;&lt;em&gt;Disclaimer: if you find these pictures boring or ugly, it&#39;s probably me and not DarkTable.&lt;/em&gt;&lt;/small&gt;&lt;/p&gt;
&lt;p&gt;For things like cropping &amp;amp; scaling images, &lt;a href=&#34;https://www.gimp.org/&#34;&gt;The Gimp&lt;/a&gt; does an okay job.&lt;/p&gt;
&lt;p&gt;For organizing &amp;amp; managing a gallery, &lt;a href=&#34;https://wiki.gnome.org/Apps/Shotwell&#34;&gt;ShotWell&lt;/a&gt; seems to be what many people use nowadays, though I&#39;m personally happy just using my file manager somehow.&lt;/p&gt;
&lt;h3&gt;Games&lt;/h3&gt;
&lt;p&gt;Ah the good old days when you only had &lt;a href=&#34;https://wiki.gnome.org/Apps/Aisleriot&#34;&gt;Gnome Solitaire&lt;/a&gt; to have a little fun on Linux. Nowadays even &lt;a href=&#34;http://store.steampowered.com/linux&#34;&gt;Steam&lt;/a&gt; is available for Linux, with more and more titles available. That should get you covered for a little while.&lt;/p&gt;
&lt;p&gt;If it doesn&#39;t, &lt;a href=&#34;https://www.playonlinux.com/&#34;&gt;PlayOnLinux&lt;/a&gt; allows running Windows games on &lt;a href=&#34;https://www.winehq.org/&#34;&gt;Wine&lt;/a&gt;. Most of the time, it works just fine.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;Battle.net via PlayOnLinux&#34; src=&#34;/static/code/2016/playonlinux-battlenet.jpg&#34; /&gt;&lt;/p&gt;
&lt;h3&gt;Music &amp;amp; Sound&lt;/h3&gt;
&lt;p&gt;I&#39;ve been a &lt;a href=&#34;https://www.spotify.com/fr/download/linux/&#34;&gt;Spotify&lt;/a&gt; user &amp;amp; customer for years, and am very happy with the Linux version of its client.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;The Spotify Linux client&#34; src=&#34;/static/code/2016/spotify-linux.jpg&#34; /&gt;&lt;/p&gt;
&lt;p&gt;I&#39;m using a &lt;a href=&#34;https://www.bose.com/en_us/products/speakers/wireless_speakers/soundlink_mini_ii.html&#34;&gt;Bose Mini SoundLink&lt;/a&gt; over bluetooth and never had any issues pairing and using it. To be 100% honest, &lt;em&gt;PulseAudio&lt;/em&gt; crashed a few times but the system has most often been able to recover and enable sound again without any specific intervention from me.&lt;/p&gt;
&lt;p&gt;Byt the way, it&#39;s not always easy to switch between audio sources; &lt;a href=&#34;https://yktoo.com/en/software/indicator-sound-switcher&#34;&gt;Sound Switcher Indicator&lt;/a&gt; really helps by adding a dedicated menu in the top bar:&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;The Sound Switcher Indicator in action&#34; src=&#34;/static/code/2016/sound-switcher-indicator.png&#34; /&gt;&lt;/p&gt;
&lt;h3&gt;Video editing&lt;/h3&gt;
&lt;p&gt;I&#39;m definitely not an expert in the field but have sometimes needs for quickly crafting short movies for friends and family. &lt;a href=&#34;https://kdenlive.org/features/&#34;&gt;kdenlive&lt;/a&gt; has just done its job perfectly so far for me.&lt;/p&gt;
&lt;h3&gt;Password manager&lt;/h3&gt;
&lt;p&gt;While studying password managers for work lately, I&#39;ve stumbled upon &lt;a href=&#34;https://www.enpass.io/&#34;&gt;Enpass&lt;/a&gt;, it&#39;s a good equivalent of &lt;a href=&#34;https://1password.com/&#34;&gt;1Password&lt;/a&gt; which doesn&#39;t have a Linux version of their app. Enpass has extensions for the most common browsers, and can sync to &lt;a href=&#34;https://dropbox.com/&#34;&gt;Dropbox&lt;/a&gt; or &lt;a href=&#34;https://owncloud.org/&#34;&gt;Owncloud&lt;/a&gt; among other cloud services.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;Enpass in action&#34; src=&#34;/static/code/2016/enpass.png&#34; /&gt;&lt;/p&gt;
&lt;h3&gt;Cloud backup &amp;amp; syncing&lt;/h3&gt;
&lt;p&gt;I was using &lt;a href=&#34;https://dropbox.com/&#34;&gt;Dropbox&lt;/a&gt; and &lt;a href=&#34;https://www.crashplan.com/&#34;&gt;CrashPlan&lt;/a&gt; on OSX, guess what? I&#39;m using them on Linux too.&lt;/p&gt;
&lt;h2&gt;A few other niceties&lt;/h2&gt;
&lt;h3&gt;ScreenCloud&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://screencloud.net/&#34;&gt;ScreenCloud&lt;/a&gt; allows making screenshots, annotate them and export them to different targets like the filesystem or online image hosting providers like &lt;a href=&#34;http://imgur.com/&#34;&gt;imgur&lt;/a&gt; or &lt;a href=&#34;https://dropbox.com/&#34;&gt;DropBox&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;ScreenCloud&#34; src=&#34;/static/code/2016/screencloud-capture.png&#34; /&gt;&lt;/p&gt;
&lt;h3&gt;Clipboard manager&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://wiki.ubuntu.com/Diodon&#34;&gt;Diodon&lt;/a&gt; is a simple yet efficient clipboard manager, exposing a convenient menu in the system top bar.&lt;/p&gt;
&lt;h3&gt;RedShift&lt;/h3&gt;
&lt;p&gt;If you know &lt;a href=&#34;https://justgetflux.com/&#34;&gt;f.lux&lt;/a&gt;, &lt;a href=&#34;http://jonls.dk/redshift/&#34;&gt;RedShift&lt;/a&gt; is an alternative to it for Linux. The program will adapt the tint of your displays to the amount of light at this specific time of the day. Recommended.&lt;/p&gt;
&lt;h3&gt;Caffeine&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://launchpad.net/caffeine&#34;&gt;Caffeine&lt;/a&gt; is a status bar application able to temporarily prevent the activation of both the screensaver and the &lt;em&gt;sleep&lt;/em&gt; powersaving mode. Most useful when watching movies.&lt;/p&gt;
&lt;h2&gt;So, is &lt;a href=&#34;http://www.islinuxreadyforthedesktop.com/&#34;&gt;Linux ready for the desktop?&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;For &lt;em&gt;me&lt;/em&gt;, the answer is yes.&lt;/p&gt;
&lt;h2&gt;Updates&lt;/h2&gt;
&lt;p&gt;I&#39;ve been asked several questions by email, IRC, twitter and in the &lt;a href=&#34;https://news.ycombinator.com/item?id=13361019&#34;&gt;HN thread&lt;/a&gt; about this post, here are some answers in a random order.&lt;/p&gt;
&lt;h3&gt;What is the exact model of your laptop?&lt;/h3&gt;
&lt;p&gt;Lenovo X1 Carbon 3rd Gen.&lt;/p&gt;
&lt;h3&gt;Do you have issues with acpi/sleep?&lt;/h3&gt;
&lt;p&gt;No.&lt;/p&gt;
&lt;h3&gt;How&#39;s battery life?&lt;/h3&gt;
&lt;p&gt;Obviously worse than a MacBook (where controlled hardware &amp;amp; drivers are heavily optimized for that purpose), but not that bad tbh. I can work for max 5 hours straight, though if I start compiling stuff (hello gecko) it gets &lt;em&gt;really&lt;/em&gt; bad.&lt;/p&gt;
&lt;h3&gt;Does the fingerprint reader work out of the box?&lt;/h3&gt;
&lt;p&gt;No, I tried to use &lt;a href=&#34;https://launchpad.net/~fingerprint/+archive/ubuntu/fingerprint-gui&#34;&gt;Fingerprint-GUI&lt;/a&gt; but it was so unstable that I removed it. I&#39;m easy typing passphrases anyway.&lt;/p&gt;
&lt;h3&gt;Did you try Krita? It&#39;s a mix between Photoshop and Paint&lt;/h3&gt;
&lt;p&gt;That sounds rather ambitious, and I didn&#39;t feel like installing all these KDE/Qt packages for trying it out. From the captures I could find online, it looks like a great option though.&lt;/p&gt;
&lt;h3&gt;There&#39;s a Linux version of &lt;a href=&#34;https://justgetflux.com/&#34;&gt;f.lux&lt;/a&gt;!&lt;/h3&gt;
&lt;p&gt;Yeah. Also I&#39;ve learned that f.lux was inspired by Redshift and not the other way around. Point taken, thanks.&lt;/p&gt;
&lt;h3&gt;DarkTable doesn&#39;t do X, Y and Z while Lightroom does&lt;/h3&gt;
&lt;p&gt;DarkTable is free. Also, its keystones-based perspective correction module is much better than anything I could find for LightRoom.&lt;/p&gt;
&lt;p&gt;But yeah, overall LightRoom is way ahead, and if Adobe was kind enough to port it to Linux I&#39;d buy and use it in a heartbeat.&lt;/p&gt;
&lt;h3&gt;DarkTable can crop and scale images too&lt;/h3&gt;
&lt;p&gt;Do you often fire DarkTable to edit a screenshot?&lt;/p&gt;
&lt;h3&gt;Arch is so much better&lt;/h3&gt;
&lt;p&gt;Good for you! Diversity is nice.&lt;/p&gt;
&lt;h3&gt;You said you contributed to a book on Ubuntu, you&#39;re biased towards Apple&lt;/h3&gt;
&lt;p&gt;Haha, nice try.&lt;/p&gt;
&lt;h3&gt;What GTK/unity theme are you using?&lt;/h3&gt;
&lt;p&gt;I&#39;m using &lt;a href=&#34;http://www.ravefinity.com/p/vivacious-colors-gtk-theme.html&#34;&gt;Vivacious Dark&lt;/a&gt; in its &lt;em&gt;graphite&lt;/em&gt; variant.&lt;/p&gt;
&lt;h3&gt;What side launcher are you using in the screenshots?&lt;/h3&gt;
&lt;p&gt;It&#39;s the standard Unity one with the &lt;a href=&#34;http://askubuntu.com/a/85366/470966&#34;&gt;icon borders removed&lt;/a&gt;.&lt;/p&gt;</description>
            <pubDate>Sun, 08 Jan 2017 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/code/2016/from-osx-to-ubuntu/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Kinto, une alternative libre à Parse et Firebase</title>
            <link>https://nicolas.perriault.net/talks/2016/kinto-une-alternative-libre-a-parse-et-firebase/</link>
            <description>&lt;p&gt;&lt;em&gt;Conférence donnée au &lt;a href=&#34;https://2016.capitoledulibre.org/&#34;&gt;Capitole du Libre&lt;/a&gt; le 29 novembre 2016.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;À l&#39;heure où beaucoup s&#39;interrogent sur le contrôle que l&#39;on a sur nos données applicatives, le projet &lt;a href=&#34;https://www.kinto-storage.org/&#34;&gt;Kinto&lt;/a&gt; tente d&#39;apporter sa vision d&#39;une solution générique à la problématique.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Il était une fois votre énième idée de projet d&#39;application révolutionnaire uberisant la disruption personnelle, avec les sempiternelles questions qui vont avec:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Où stocker les données ?&lt;/li&gt;
&lt;li&gt;Comment les maintenir de façon sécurisée ?&lt;/li&gt;
&lt;li&gt;Comment les synchroniser, les répliquer ?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;De nombreux services existent dans le cloud, peu répondent favorablement à l&#39;ensemble de ces interrogations. Kinto est une base de données JSON auto-hébergeable disposant d&#39;une API REST simple à utiliser, permettant d&#39;administrer et synchroniser les données de façon sécurisée.&lt;/p&gt;
&lt;video width=&#34;660&#34; height=&#34;420&#34; controls=&#34;controls&#34;&gt;
  &lt;source type=&#34;video/mp4&#34;
    src=&#34;http://videos2016.capitoledulibre.org/technologies-web/n1k0-kinto-une-alternative-libre-a-parse-et-firebase.mp4&#34;/&gt;
&lt;/video&gt;

&lt;iframe src=&#34;//slides.com/n1k0/kinto-capitole/embed&#34;
  width=&#34;660&#34;
  height=&#34;420&#34;
  scrolling=&#34;no&#34;
  frameborder=&#34;0&#34;
  webkitallowfullscreen
  mozallowfullscreen
  allowfullscreen&gt;
  &lt;p&gt;Your browser doesn&#39;t support iframes it seems.&lt;/p&gt;
&lt;/iframe&gt;</description>
            <pubDate>Tue, 29 Nov 2016 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/talks/2016/kinto-une-alternative-libre-a-parse-et-firebase/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>To the Light</title>
            <link>https://nicolas.perriault.net/photography/2014/to-the-light/</link>
            <description>&lt;p&gt;&lt;img src=&quot;/static/photography/2014/to-the-light/main.jpg&quot; alt=&quot;To the Light by Nicolas Perriault&quot;&gt;&lt;/p&gt;&lt;p&gt;Palavas, France&lt;/p&gt;&lt;p&gt;Palavas, France. Taken with the Nexus5. This damn little thing happens to be a great camera so far.&lt;/p&gt;</description>
            <pubDate>Wed, 01 Jan 2014 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/photography/2014/to-the-light/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Résiliation, piège à cons</title>
            <link>https://nicolas.perriault.net/carnet/2013/resiliation-piege-a-cons/</link>
            <description>&lt;p&gt;Ça fait plusieurs fois que j’ai cette conversation, &lt;em&gt;quelles sont les limites acceptables pour obtenir la fidélité d’un utilisateur ?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Prenons l’exemple de l’abonnement &lt;a href=&#34;http://www.mediapart.fr/&#34;&gt;Mediapart&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet tw-align-center&#34; lang=&#34;fr&#34;&gt;&lt;p&gt;WOW. Donc il faut envoyer un courrier *papier* à Mediapart — le journal *en ligne* — pour résilier son abonnement. Bravo.&lt;/p&gt;&amp;mdash; Nicolas Perriault (@n1k0) &lt;a href=&#34;https://twitter.com/n1k0/statuses/253783723546382336&#34;&gt;October 4, 2012&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;Autant vous pouvez facilement souscrire un abonnement via un simple formulaire en ligne, autant pour vous désabonner, boum, &lt;a href=&#34;http://bricablog.net/dotclear/index.php/post/2013/12/26/Pourquoi-je-ne-lis-plus-Mediapart-ou-la-r%C3%A9ciprocit%C3%A9-des-principes%2C-fussent-ils-de-valeurs-in%C3%A9gales&#34;&gt;courrier postal obligatoire&lt;/a&gt; (ça me rassure de pas être le seul aigri dans l’histoire). Pas de résiliation en ligne donc, sur un journal &lt;em&gt;en ligne&lt;/em&gt;. Évidemment, cette démarche freine pas mal de procrastinateurs, qui se consolent généralement en contribuant au financement d’un organe de presse indépendant pour 9 euros par mois (sinon, la Croix Rouge c’est pas mal non plus hein).&lt;/p&gt;
&lt;p&gt;D’aucuns comprendront que la stratégie mise en œuvre ici est de profiter de la fainéantise de nombreuses personnes quant aux démarches administratives même les plus simples &lt;small&gt;(encore qu’associer la Poste et simplicité font d’emblée emmerger quelques doutes légitimes)&lt;/small&gt;.&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet tw-align-center&#34; lang=&#34;fr&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://twitter.com/n1k0&#34;&gt;@n1k0&lt;/a&gt; je ne vais pas rentrer dans ce débat là :) on peut demander à d&amp;#39;autres poirquoi un RAR aussi (cc &lt;a href=&#34;https://twitter.com/arnaudlimbourg&#34;&gt;@arnaudlimbourg&lt;/a&gt; )&lt;/p&gt;&amp;mdash; Nicolas Silberman (@nsilberman) &lt;a href=&#34;https://twitter.com/nsilberman/statuses/253788177632985088&#34;&gt;October 4, 2012&lt;/a&gt;&lt;/blockquote&gt;

&lt;p style=&#34;text-align:center&#34;&gt;&lt;small&gt;(ah bon d’accord.)&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;La dernière fois que j’ai eu affaire à ce type de procédé, c’est avec Canal +. Ces gens-là utilisent la même technique en la poussant de façon plus extrême encore : si vous disposez d’une Freebox, vous pouvez activer un abonnement Canal + depuis l’interface de la box, et hop, accès à Canal + directement opérationnel, waouh. Par contre, pour résilier… Lettre recommandé avec A/R a minima deux mois avant la date anniversaire de la souscription (vous avez bien lu). Encore une fois, les procrastinateurs, rétifs au stratif et handicapés du calendrier de tous bords en seront pour leur frais.&lt;/p&gt;
&lt;p&gt;Souvent, lorsque j’évoque ces deux exemples, certaines personnes — parmi lequelles des gens bien sous tous rapports — me rétorquent que &lt;a href=&#34;https://twitter.com/search?q=%23lesgens&#34;&gt;#lesgens&lt;/a&gt; n’ont qu’à pas procrastiner, à être organisés, que finalement c’est plutôt &lt;em&gt;bien fait pour eux&lt;/em&gt;. Que ça &lt;em&gt;leur apprendra&lt;/em&gt;. Qu’ils avaient qu’à pas être aussi faibles, qu’à pas être aussi cons, quoi. &lt;em&gt;Darwin for the win.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;D’autres me disent que &lt;em&gt;tant que c’est légal&lt;/em&gt;, ils n’y voient aucun souci, voire même un business model plutôt &lt;a href=&#34;http://scopyleft.fr/honnetete/&#34;&gt;malin&lt;/a&gt;, Tintin. Les victimes n’avaient qu’à faire attention, à bien lire les CGV de 180 pages, tout ça. La faiblesse comme fond de commerce, c’est pas trop la classe ?&lt;/p&gt;
&lt;p&gt;Et ça me fait quand même un tout petit peu de peine. Ces interlocuteurs me disent en gros que profiter d’une faiblesse, même infime, de l’utilisateur est une démarche parfaitement normale, particulièrement lorsqu’elle peut garantir des rentrées d’argent confortables et régulières à peu de frais. Voire même de faire des économies substantielles sur les coûts d’infrastructure, vu que ces gens-là n’utiliseront vraisemblablement peu ou plus les services en question. Voire enfin que peu importent les moyens mis en œuvre pour financer une cause que l’on estime soi-même juste.&lt;/p&gt;
&lt;p&gt;Bon, vous pensez que j’exagère, là hein ? Que j’en rajoute, qu’il n’y a pas autant de &#34;victimes&#34; de ce type de procédés que ça, que c’est anecdotique voire psychiatrique ?&lt;/p&gt;
&lt;p&gt;Prenez 10 minutes pour faire un petit exercice rigolo : épluchez vos derniers relevés bancaires et pointez systématiquement les dépenses de type prélèvement automatique. Vous pourriez vous surprendre vous-même.&lt;/p&gt;
&lt;p&gt;C’est ce qui m’est arrivé dernièrement en tout cas, dans une démarche d’abaissement de mon empreinte économique pour arriver à vivre décemment avec moins d’argent, de façon plus raisonnable et raisonnée. C’est fou ce qu’on peut souscrire comme conneries, d’un simple clic… et oublier.&lt;/p&gt;
&lt;p&gt;Mais revenons-en à nos moutons ; que se passe t-il dans le cas de Mediapart ou de Canal + quand je découvre les valeurs impliquées derrières le procédé de résiliation ? Peu importe si je me désabonne quand même, c’est peut-être le moins pire des effets collatéraux dans l’histoire… Ce qui se passe de grave pour ces entités est &lt;strong&gt;que la confiance est rompue&lt;/strong&gt;. Dans le cas de Canal +, j’avoues qu’elle n’a jamais été bien haute de toute façon, mais dans le cas Mediapart, quelle claque. Et j’en parle. On parle bien plus volontiers des claques que l’on prend autour de soi.&lt;/p&gt;
&lt;p&gt;Par pitié, si vous gérez un business, quel qu’il soit, essayez de réaliser, de comprendre que &lt;strong&gt;prendre les utilisateurs pour des cons n’est pas une stratégie de développement durable sur le long terme.&lt;/strong&gt; Respectez-les autant que vous vous respectez. Et si vous ne vous respectez pas, foutez-leur la paix.&lt;/p&gt;
&lt;p id=&#34;maj&#34;&gt;&lt;strong&gt;Mise à jour :&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://deboisset.fr/&#34;&gt;Hadrien de Boisset&lt;/a&gt; me signale par email :&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;En droit français, la signature d’un contrat papier n’est pas nécessaire pour que ce contrat existe (pour des contrats de moins de 1500€). Une fois le contrat conclu, il s’impose aux parties au même titre que la loi. La résiliation, qui met fin unilatéralement à un contrat, doit en revanche toujours être demandée sur papier, quelle que soit la valeur du contrat, c’est une obligation légale qui vise à protéger les fournisseurs contre d’éventuels procès futurs pour non respect du contrat en leur faisant parvenir une preuve de la volonté du client d’y mettre fin.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Ma réaction :&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;J&#39;admets bien volontiers ne pas m&#39;être renseigné sur le cadre légal entourant la contractualisation commerciale en droit français ; merci pour ces précisions ! Malgré tout, ces dispositions me surprennent énormément du fait de l’absence de symétrie entre souscription et résiliation, et je ne peux m’empêcher d’y voir une forme de légitimation institutionnelle à faciliter l’acte d’engagement versus la cessation dudit engagement. Car il me semble tout aussi délicat pour un fournisseur d’être attaqué sur un processus de souscription abusif ou frauduleux que sur celui de la résiliation.&lt;/p&gt;
&lt;p&gt;Pourrait-on y voir une forme de &lt;em&gt;facilitation&lt;/em&gt; à la commercialisation, voire d’une “difficultation” du processus inverse ? Je comprends que les chiffres de la croissance tiennent énormément à cœur à nos politiques, mais tout de même !&lt;code&gt;&amp;lt;/complot&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;En tout état de cause, une stricte symétrie des moyens minimum autorisés pour souscrire ou résilier un contrat me semblerait personnellement aller de soi. Même si je me doute que — comme souvent j’ai l’impression — certains abus ont fait aboutir au cadre légal actuel…&lt;/p&gt;</description>
            <pubDate>Mon, 30 Dec 2013 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/carnet/2013/resiliation-piege-a-cons/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Functional JavaScript for crawling the Web</title>
            <link>https://nicolas.perriault.net/code/2013/functional-javascript-for-crawling-the-web/</link>
            <description>&lt;p&gt;I&#39;ve been giving JavaScript &amp;amp; &lt;a href=&#34;http://casperjs.org/&#34;&gt;CasperJS&lt;/a&gt; training sessions lately, and was
amazed how few people are aware of the &lt;a href=&#34;http://en.wikipedia.org/wiki/Functional_Programming&#34;&gt;Functional Programming&lt;/a&gt; capabilities of
JavaScript. Many couldn&#39;t see obvious usage of these in Web development, which
is a bit of a shame if you ask me.&lt;/p&gt;
&lt;p&gt;Let&#39;s take things like &lt;code&gt;map&lt;/code&gt; and &lt;code&gt;reduce&lt;/code&gt; from the &lt;code&gt;Array&lt;/code&gt; prototype:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function square(x) {
  return x * x;
}

function sum(x, y) {
  return x + y;
}

[1, 2, 3].map(square).reduce(sum)
// 14
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I&#39;ve been hearing a few times things like:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Well yeah that&#39;s cool, but I don&#39;t do maths, I&#39;m a Web developer.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And each time it turns me a little sad.&lt;/p&gt;
&lt;h3&gt;Disclaimer&lt;/h3&gt;
&lt;p&gt;As we&#39;re programming language hipsters, in this article we&#39;ll use &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/arrow_functions&#34;&gt;ES6 short
function syntax&lt;/a&gt; which has landed a few weeks ago in &lt;a href=&#34;http://nightly.mozilla.org/&#34;&gt;Firefox Nightlies&lt;/a&gt; and
eases a lot writing code in the functional style:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var square = x =&amp;gt; x * x;
var sum = (x, y) =&amp;gt; x + y;

[1, 2, 3].map(square).reduce(sum)
// 14
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We&#39;ll also use other ES6 features as well because, you know, today is our
future already.&lt;/p&gt;
&lt;p&gt;This article contents will also probably hurt some people feelings, probably
because there&#39;s a lot to hate in there when you come from a pure OOP landscape.
&lt;strong&gt;Please think of this article as an exercise of thought instead of yet another
new JavaScript tutorial™.&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;Crawling the DOM using FP&lt;/h3&gt;
&lt;p&gt;Take this DOM fragment featuring a good ol&#39; data table as an example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;table&amp;gt;
  &amp;lt;thead&amp;gt;
    &amp;lt;tr&amp;gt;
      &amp;lt;th&amp;gt;Country&amp;lt;/th&amp;gt;
      &amp;lt;th&amp;gt;Population (M)&amp;lt;/th&amp;gt;
      &amp;lt;th&amp;gt;GNP (B)&amp;lt;/th&amp;gt;
    &amp;lt;/tr&amp;gt;
  &amp;lt;/thead&amp;gt;
  &amp;lt;tbody&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;Belgium&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;11.162&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;419&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;France&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;63.820&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;2246&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;Germany&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;80.640&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;3139&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;Greece&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;10.758&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;298&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;Italy&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;59.789&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;1871&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;Netherlands&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;16.795&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;713&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;Poland&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;38.548&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;782&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;Portugal&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;10.609&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;252&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;United Kingdom&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;64.231&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;2290&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;Spain&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;46.958&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;1432&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
  &amp;lt;/tbody&amp;gt;
&amp;lt;/table&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To map the country names to a regular array of strings:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var rows = document.querySelectorAll(&#34;tbody tr&#34;);
[].map.call(rows, row =&amp;gt; row.querySelector(&#34;td&#34;).textContent);
// [&#34;Belgium&#34;, &#34;France&#34;, &#34;Germany&#34;, &#34;Greece&#34;, &#34;Italy&#34;, …]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It worked: our map operation transformed a list of DOM table row elements to the
text value of their very first cell. Well, it feels like we could probably
enhance the code ergonomics a bit here.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;em&gt;If you wonder why do we use &lt;code&gt;[].map.call&lt;/code&gt; in lieu of just calling
&lt;code&gt;map&lt;/code&gt; from the element list prototype, that&#39;s because &lt;code&gt;NodeList&lt;/code&gt; doesn&#39;t
implement the &lt;code&gt;Array&lt;/code&gt; interface… &lt;small&gt;Yeah, I know.&lt;/small&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As an illustrative exercise, let&#39;s write our own &lt;code&gt;map&lt;/code&gt; function to make a passed
iterable always exposing the &lt;code&gt;Array&lt;/code&gt; interface; also, let&#39;s invert the order of
passed args to ease further composability (more on this later):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const map = (fn, iterable) =&amp;gt; [].map.call(iterable, fn);
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; we declare &lt;code&gt;map&lt;/code&gt; as a constant to avoid any accidental mess. Also, I
don&#39;t see obvious reasons for a function to be mutated here.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So we can write:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var rows = document.querySelectorAll(&#34;tbody tr&#34;);
map(row =&amp;gt; row.querySelector(&#34;td&#34;).textContent, rows);
// [&#34;Belgium&#34;, &#34;France&#34;, &#34;Germany&#34;, &#34;Greece&#34;, &#34;Italy&#34;, …]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As a side note, this &lt;code&gt;map&lt;/code&gt; implementation also works for strings:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;map(x =&amp;gt; x.toUpperCase(), &#34;foo&#34;);
// [&#34;F&#34;, &#34;O&#34;, &#34;O&#34;]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can also write a tiny abstraction on top of &lt;code&gt;querySelectorAll&lt;/code&gt;, again to
ensure further composability:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const nodes = (sel, root) =&amp;gt; (root || document).querySelectorAll(sel);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So now we can write:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var rows = nodes(&#34;tbody tr&#34;);
map(node =&amp;gt; nodes(&#34;td&#34;, node)[0].textContent, rows);
// [&#34;Belgium&#34;, &#34;France&#34;, &#34;Germany&#34;, &#34;Greece&#34;, &#34;Italy&#34;, …]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Hmm, the operations being performed within the function passed to &lt;code&gt;map&lt;/code&gt; (finding
a first child node, getting an element property value) sound like things we&#39;re
most likely to do many times while extracting information from the DOM. And then
we&#39;d probably want better code semantics as well.&lt;/p&gt;
&lt;p&gt;For starters, let&#39;s create a &lt;code&gt;first()&lt;/code&gt; function for finding the first element
out of a collection:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const first = iterable =&amp;gt; iterable[0];
// first([1, 2, 3]) =&amp;gt; 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Our example becomes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;map(node =&amp;gt; first(nodes(&#34;td&#34;, node)).textContent, rows);
// [&#34;Belgium&#34;, &#34;France&#34;, &#34;Germany&#34;, &#34;Greece&#34;, &#34;Italy&#34;, …]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the same vein, we could use a &lt;code&gt;prop()&lt;/code&gt; &lt;a href=&#34;http://en.wikipedia.org/wiki/Higher-order_function&#34;&gt;higher order function&lt;/a&gt; —
basically a function returning a function — one more time to create a reusable &amp;amp;
composable property getter (we&#39;ll get back to this, read on):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const prop = name =&amp;gt; object =&amp;gt; object[name];
// const getFoo = prop(&#34;foo&#34;);
// getFoo({foo: &#34;bar&#34;}) =&amp;gt; &#34;bar&#34;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you struggle understanding how this works, this is how we would write &lt;code&gt;prop&lt;/code&gt;
using current function syntax:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function prop(name) {
  return function(object) {
    return object[name];
  };
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let&#39;s use our new property getter generator:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const getText = prop(&#34;textContent&#34;);

map(node =&amp;gt; getText(first(nodes(&#34;td&#34;, node))), rows);
// [&#34;Belgium&#34;, &#34;France&#34;, &#34;Germany&#34;, &#34;Greece&#34;, &#34;Italy&#34;, …]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, how about having a generic for finding a node&#39;s child elements from a
selector? Let&#39;s do this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const finder = selector =&amp;gt; root =&amp;gt; nodes(selector, root);

const findCells = finder(&#34;td&#34;);
findCells(document.querySelector(&#34;table&#34;)).length
// 30
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Don&#39;t panic, again this is how we&#39;d write it using standard function declaration
syntax:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function finder(selector) {
  return function(root) {
    return nodes(selector, root);
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let&#39;s use it:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const getText = prop(&#34;textContent&#34;);
const findCells = finder(&#34;td&#34;);

map(node =&amp;gt; getText(first(findCells(node))), rows);
// [&#34;Belgium&#34;, &#34;France&#34;, &#34;Germany&#34;, &#34;Greece&#34;, &#34;Italy&#34;, …]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;At this point, you may be wondering how this is possibly improving code
readability and maintainability… Now is the perfect time to use &lt;a href=&#34;http://en.wikipedia.org/wiki/Function_composition&#34;&gt;function
composition&lt;/a&gt; (you waited for it), to aggregate &amp;amp; chain minimal bits of reusable
code.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: If you&#39;re familiar with the UNIX philosophy, that&#39;s exactly the same
approach as when using the pipe operator:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; $ ls -la | awk &#39;{print $2}&#39; | grep pattern | wc -l
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let&#39;s create a &lt;code&gt;sequence&lt;/code&gt; function to help composing functions sequentially:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const sequence = function() {
  return [].reduce.call(arguments, function(comp, fn) {
    return () =&amp;gt; comp(fn.apply(null, arguments));
  });
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This one is a bit complicated; it basically takes all functions passed as
arguments and returns a new function capable of processing them sequencially,
passing to each the result of the previous execution:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const squarePlus2 = sequence(x =&amp;gt; 2 + x, x =&amp;gt; x * x);
squarePlus2(4);
// 4 * 4 + 2 =&amp;gt; 18 =&amp;gt; Aspirine is in the bathroom
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In classic notation without using a sequence, that would be the equivalent of:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function plus2(x) {
    return 2 + x;
}

function square(x) {
    return x * x;
}

function squarePlus2(x) {
    return plus2(square(x));
}

squarePlus2(4);
// 18
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By the way, &lt;code&gt;sequence&lt;/code&gt; is a very good place to use &lt;a href=&#34;https://blog.mozilla.org/jorendorff/2012/05/29/rest-arguments-and-default-arguments-in-javascript/&#34;&gt;ES6 Rest Arguments&lt;/a&gt; which
have also landed recently in Gecko; let&#39;s rewrite it accordingly:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const sequence = function(...fns) {
  return fns.reduce(function(comp, fn) {
    return (...args) =&amp;gt; comp(fn.apply(null, args));
  });
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let&#39;s use it in our little DOM crawling example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const getText = prop(&#34;textContent&#34;);
const findCells = finder(&#34;td&#34;);

map(sequence(getText, first, findCells), rows)
// [&#34;Belgium&#34;, &#34;France&#34;, &#34;Germany&#34;, &#34;Greece&#34;, &#34;Italy&#34;, …]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What I like the most about the FP style is that it actually describes fairly
well what&#39;s going to happen; you can almost read the code as you&#39;d read plain
English &lt;em&gt;(caveat: don&#39;t do this at family dinners).&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Also you may want to have the functions passed in the opposite order, ala UNIX
pipes, which usually enhances legibility a bit for seasonned functional
programmers; let&#39;s create a &lt;code&gt;compose&lt;/code&gt; function for doing just that:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const compose = (...fns) =&amp;gt; sequence.apply(null, fns.reverse());

map(compose(findCells, first, getText), rows);
// [&#34;Belgium&#34;, &#34;France&#34;, &#34;Germany&#34;, &#34;Greece&#34;, &#34;Italy&#34;, …]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;Wait, is this really better?&lt;/h3&gt;
&lt;p&gt;As a side note, one may argue that:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;map(sequence(getText, first, findCells), rows);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Is not much really better than:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;map(row =&amp;gt; getText(first(findCells(row))), rows);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Though the composed approach is probably more likely to scale when adding many
more functions to the stack:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;a(b(c(d(e(f(g(h(foo))))))));
sequence(a, b, c, d, e, f, g, h)(foo);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Last, a composed function is itself composable by essence, and that&#39;s probably a
killer feature:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;map(sequence(getText, sequence(first, findCells)), rows);
// [&#34;Belgium&#34;, &#34;France&#34;, &#34;Germany&#34;, &#34;Greece&#34;, &#34;Italy&#34;, …]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which something like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var crawler = new Crawler(&#34;table&#34;);
crawler.findCells(&#34;tbody tr&#34;).first().getText();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Is hardly likely to offer.&lt;/p&gt;
&lt;h2&gt;A few more examples&lt;/h2&gt;
&lt;p&gt;To compute the total population of listed countries:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const reduce = (fn, init, iterable) =&amp;gt; [].reduce.call(iterable, fn, init);
const second = (iterable) =&amp;gt; iterable[1];
const sum = (x, y) =&amp;gt; x + y;

var populations = map(compose(findCells, second, getText, parseFloat),
                      rows);
reduce(sum, 0, populations);
// 403.31000000000006
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To generate a JSON export of the whole table data:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const partial = (fn, ...r) =&amp;gt; (...a) =&amp;gt; fn.apply(null, r.concat(a))
const nth = n =&amp;gt; (iterable) =&amp;gt; iterable[n - 1];
const third = nth(3);
const getTexts = partial(map, getText);
const asObject = (data) =&amp;gt; ({
  name:       first(data),
  population: parseFloat(second(data)),
  gnp:        parseFloat(third(data))
});

var countries = map(compose(findCells, getTexts, asObject), rows);
JSON.stringify(countries);
// &#34;[{&#34;name&#34;:&#34;Belgium&#34;,&#34;population&#34;:11.162,&#34;gnp&#34;:419}, …
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To compute the global average
&lt;acronym title=&#34;Gross National Product&#34;&gt;GNP&lt;/acronym&gt; per capita for these
countries:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const perCapita = c =&amp;gt; ({name: c.name, perCapita: c.gnp / c.population});

var gnpPerCapita = map(perCapita, countries);
JSON.stringify(gnpPerCapita);
// &#34;[{&#34;name&#34;:&#34;Belgium&#34;,&#34;perCapita&#34;:37.5380756136893}, …
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To filter countries having more than &lt;code&gt;n€&lt;/code&gt; of GNP per capita, sort them by
descending order and export the result as JSON:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const select = (fn, iterable) =&amp;gt; [].filter.call(iterable, fn)
const sort = (fn, iterable) =&amp;gt; [].sort.call(iterable, fn);

const sortDesc = partial(sort, (a, b) =&amp;gt; a.perCapita &amp;gt; b.perCapita ? -1 : 1);
const healthy = partial(select, c =&amp;gt; c.perCapita &amp;gt; 38);

const healthyCountries = compose(healthy, sortDesc);
JSON.stringify(healthyCountries(gnpPerCapita));
// &#34;[{&#34;name&#34;:&#34;Netherlands&#34;,&#34;perCapita&#34;:42.45311104495385}, …
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I could probably go on and on, but you get the picture. This post is not to
claim that the FP approach is the best of all in JavaScript, but that it
certainly has its advantages. Feel free to play with these concepts for a while
to make your mind, eventually :)&lt;/p&gt;
&lt;p&gt;If you&#39;re interested in Functional JavaScript, I suggest the following
resources:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://vimeo.com/43382919&#34;&gt;Pure, functional JavaScript&lt;/a&gt;, an inspiring talk from Christian Johansen;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://leanpub.com/javascript-allonge/read&#34;&gt;JavaScript Allongé&lt;/a&gt;, an online book which covers most of its aspects in a
  very comprehensive style (you should buy it);&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://stevelosh.com/blog/2013/03/list-out-of-lambda/&#34;&gt;List Out of Lambda&lt;/a&gt;, a blog post from Steve Losh where he reinvents lists
  purely using functions in JavaScript (!);&lt;/li&gt;
&lt;li&gt;If you&#39;re hooked with FP (yay!), have a look at &lt;a href=&#34;http://clojure.org/&#34;&gt;Clojure&lt;/a&gt; and its port
  targetting the JavaScript platform, &lt;a href=&#34;https://github.com/clojure/clojurescript&#34;&gt;ClojureScript&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you&#39;re interested in ECMAScript 6, here are some good links to read about:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://brendaneich.github.io/Strange-Loop-2012/&#34;&gt;The state of JavaScript&lt;/a&gt; — Brendan Eich, Strange Loop 2012&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/JavaScript/ECMAScript_6_support_in_Mozilla&#34;&gt;ECMAScript 6 support in Mozilla&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
            <pubDate>Sun, 01 Dec 2013 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/code/2013/functional-javascript-for-crawling-the-web/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Get your Frontend JavaScript Code Covered</title>
            <link>https://nicolas.perriault.net/code/2013/get-your-frontend-javascript-code-covered/</link>
            <description>&lt;p&gt;&lt;strong&gt;So finally you&#39;re &lt;a href=&#34;/code/2013/testing-frontend-javascript-code-using-mocha-chai-and-sinon/&#34;&gt;testing your frontend JavaScript code&lt;/a&gt;? Great! The more you
write tests, the more confident you are with your code… but how much precisely?
That&#39;s where &lt;a href=&#34;http://en.wikipedia.org/wiki/Code_coverage&#34;&gt;code coverage&lt;/a&gt; might
help.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The idea behind code coverage is to record which parts of your code (functions,
statements, conditionals and so on) have been executed by your test suite, to
compute metrics out of these data and usually to provide tools for navigating
and inspecting them.&lt;/p&gt;
&lt;p&gt;Not a lot of frontend developers I know actually test their frontend code, and I
can barely imagine how many of them have ever setup code coverage… Mostly
because there are not many frontend-oriented tools in this area I guess.&lt;/p&gt;
&lt;p&gt;Actually I&#39;ve only found one which provides an adapter for &lt;a href=&#34;http://visionmedia.github.io/mocha/&#34;&gt;Mocha&lt;/a&gt; and actually
works…&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet tw-align-center&#34;&gt;
  &lt;p&gt;
    Drinking game for web devs: &lt;br&gt;
    (1) Think of a noun&lt;br&gt;
    (2) Google &amp;quot;&amp;lt;noun&amp;gt;.js&amp;quot;&lt;br&gt;
    (3) If a library with that name exists - drink
  &lt;/p&gt;
  &amp;mdash; Shay Friedman (@ironshay)
  &lt;a href=&#34;https://twitter.com/ironshay/statuses/370525864523743232&#34;&gt;August 22, 2013&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://blanketjs.org/&#34;&gt;Blanket.js&lt;/a&gt;&lt;/strong&gt; is an &lt;em&gt;easy to install, easy to configure,
and easy to use JavaScript code coverage library that works both in-browser and
with nodejs.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Its use is dead easy, adding Blanket support to your Mocha test suite is just
matter of adding this simple line to your HTML test file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;script src=&#34;vendor/blanket.js&#34;
        data-cover-adapter=&#34;vendor/mocha-blanket.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Source files: &lt;a href=&#34;https://raw.github.com/alex-seville/blanket/master/dist/qunit/blanket.min.js&#34;&gt;blanket.js&lt;/a&gt;,
              &lt;a href=&#34;https://raw.github.com/alex-seville/blanket/master/src/adapters/mocha-blanket.js&#34;&gt;mocha-blanket.js&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;As an example, let&#39;s reuse the silly &lt;code&gt;Cow&lt;/code&gt; example we used &lt;a href=&#34;/code/2013/testing-frontend-javascript-code-using-mocha-chai-and-sinon/&#34;&gt;in a previous episode&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// cow.js
(function(exports) {
  &#34;use strict&#34;;

  function Cow(name) {
    this.name = name || &#34;Anon cow&#34;;
  }
  exports.Cow = Cow;

  Cow.prototype = {
    greets: function(target) {
      if (!target)
        throw new Error(&#34;missing target&#34;);
      return this.name + &#34; greets &#34; + target;
    }
  };
})(this);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And its test suite, powered by Mocha and &lt;a href=&#34;http://chaijs.com/&#34;&gt;Chai&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var expect = chai.expect;

describe(&#34;Cow&#34;, function() {
  describe(&#34;constructor&#34;, function() {
    it(&#34;should have a default name&#34;, function() {
      var cow = new Cow();
      expect(cow.name).to.equal(&#34;Anon cow&#34;);
    });

    it(&#34;should set cow&#39;s name if provided&#34;, function() {
      var cow = new Cow(&#34;Kate&#34;);
      expect(cow.name).to.equal(&#34;Kate&#34;);
    });
  });

  describe(&#34;#greets&#34;, function() {
    it(&#34;should greet passed target&#34;, function() {
      var greetings = (new Cow(&#34;Kate&#34;)).greets(&#34;Baby&#34;);
      expect(greetings).to.equal(&#34;Kate greets Baby&#34;);
    });
  });
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let&#39;s create the HTML test file for it, featuring Blanket and its adapter for
Mocha:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
  &amp;lt;meta charset=&#34;utf-8&#34;&amp;gt;
  &amp;lt;title&amp;gt;Test&amp;lt;/title&amp;gt;
  &amp;lt;link rel=&#34;stylesheet&#34; media=&#34;all&#34; href=&#34;vendor/mocha.css&#34;&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
  &amp;lt;div id=&#34;mocha&#34;&amp;gt;&amp;lt;/div&amp;gt;
  &amp;lt;div id=&#34;messages&#34;&amp;gt;&amp;lt;/div&amp;gt;
  &amp;lt;div id=&#34;fixtures&#34;&amp;gt;&amp;lt;/div&amp;gt;
  &amp;lt;script src=&#34;vendor/mocha.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;script src=&#34;vendor/chai.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;script src=&#34;vendor/blanket.js&#34;
          data-cover-adapter=&#34;vendor/mocha-blanket.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;script&amp;gt;mocha.setup(&#39;bdd&#39;);&amp;lt;/script&amp;gt;
  &amp;lt;script src=&#34;cow.js&#34; data-cover&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;script src=&#34;cow_test.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;script&amp;gt;mocha.run();&amp;lt;/script&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Notes&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Notice the &lt;code&gt;data-cover&lt;/code&gt; attribute we added to the script tag loading the
  source of our library;&lt;/li&gt;
&lt;li&gt;The HTML test file &lt;em&gt;must&lt;/em&gt; be served over HTTP for the adapter to be loaded.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Running the tests now gives us something like this:&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;screenshot&#34; src=&#34;/static/code/2013/blanket-coverage.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;As you can see, the report at the bottom highlights that we haven&#39;t actually
tested the case where an error is raised in case a target name is missing.
We&#39;ve been informed of that, nothing more, nothing less. We simply know we&#39;re
missing a test here. Isn&#39;t this cool? I think so!&lt;/p&gt;
&lt;p&gt;Just remember that code coverage will only &lt;a href=&#34;http://codebetter.com/karlseguin/2008/12/09/code-coverage-use-it-wisely/&#34;&gt;bring you numbers&lt;/a&gt; and raw
information, not actual proofs that the whole of your &lt;em&gt;code logic&lt;/em&gt; has been
actually covered. If you ask me, the best inputs you can get about your code
logic and implementation ever are the ones issued out of &lt;a href=&#34;http://www.extremeprogramming.org/rules/pair.html&#34;&gt;pair programming&lt;/a&gt;
sessions and &lt;a href=&#34;http://alexgaynor.net/2013/sep/26/effective-code-review/&#34;&gt;code reviews&lt;/a&gt; — but that&#39;s another story.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;So is code coverage silver bullet? No. Is it useful? Definitely. Happy testing!&lt;/strong&gt;&lt;/p&gt;</description>
            <pubDate>Sun, 29 Sep 2013 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/code/2013/get-your-frontend-javascript-code-covered/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Testing your frontend JavaScript code using mocha, chai, and sinon</title>
            <link>https://nicolas.perriault.net/code/2013/testing-frontend-javascript-code-using-mocha-chai-and-sinon/</link>
            <description>&lt;p&gt;&lt;strong&gt;As rich Web application complexity grows, if you want to keep your sanity, you need to unit test your frontend JavaScript code.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;For the 4 past months, I&#39;ve been working for &lt;a href=&#34;http://mozilla.org/&#34;&gt;Mozilla&lt;/a&gt; on some big project where such testing strategy was involved. While I wish we could use &lt;a href=&#34;http://casperjs.org/&#34;&gt;CasperJS&lt;/a&gt; in this perspective, Firefox wasn&#39;t supported at the time and we needed to ensure proper compatibility with its JavaScript engine. So we went with using &lt;a href=&#34;http://visionmedia.github.io/mocha/&#34;&gt;Mocha&lt;/a&gt;, &lt;a href=&#34;http://chaijs.com/&#34;&gt;Chai&lt;/a&gt; and &lt;a href=&#34;http://sinonjs.org/&#34;&gt;Sinon&lt;/a&gt; and they have proven to be a great workflow for us so far.&lt;/p&gt;
&lt;h3&gt;The mocha testing framework and the chai expectation library&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;http://visionmedia.github.io/mocha/&#34;&gt;Mocha&lt;/a&gt; is a test framework while &lt;a href=&#34;http://chaijs.com/&#34;&gt;Chai&lt;/a&gt; is an expectation one. Let&#39;s say Mocha setups and describes test suites and Chai provides convenient helpers to perform all kinds of assertions against your JavaScript code.&lt;/p&gt;
&lt;p&gt;So let&#39;s say we have a &lt;code&gt;Cow&lt;/code&gt; object we want to unit test:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// cow.js
(function(exports) {
  &#34;use strict&#34;;

  function Cow(name) {
    this.name = name || &#34;Anon cow&#34;;
  }
  exports.Cow = Cow;

  Cow.prototype = {
    greets: function(target) {
      if (!target)
        throw new Error(&#34;missing target&#34;);
      return this.name + &#34; greets &#34; + target;
    }
  };
})(this);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Nothing fancy, but we want to unit test this one.&lt;/p&gt;
&lt;p&gt;Both Mocha and Chai can be used in a &lt;a href=&#34;http://nodejs.org/&#34;&gt;Node&lt;/a&gt; environment as well as within the browser; in the latter case, you&#39;ll have to setup a test HTML page and use special builds of those libraries:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;for Mocha: &lt;a href=&#34;http://visionmedia.github.io/mocha/#browser-support&#34;&gt;setup instructions&lt;/a&gt;, &lt;a href=&#34;https://github.com/visionmedia/mocha/raw/master/mocha.css&#34;&gt;mocha.css&lt;/a&gt;, &lt;a href=&#34;https://github.com/visionmedia/mocha/raw/master/mocha.js&#34;&gt;mocha.js&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;for Chai: &lt;a href=&#34;http://chaijs.com/guide/installation/&#34;&gt;setup instructions&lt;/a&gt;, &lt;a href=&#34;http://chaijs.com/chai.js&#34;&gt;chai.js&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;My advice is to store these files in a &lt;code&gt;vendor&lt;/code&gt; subfolder. Let&#39;s create a HTML file to test our lib:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
  &amp;lt;meta charset=&#34;utf-8&#34;&amp;gt;
  &amp;lt;title&amp;gt;Cow tests&amp;lt;/title&amp;gt;
  &amp;lt;link rel=&#34;stylesheet&#34; media=&#34;all&#34; href=&#34;vendor/mocha.css&#34;&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
  &amp;lt;div id=&#34;mocha&#34;&amp;gt;&amp;lt;p&amp;gt;&amp;lt;a href=&#34;.&#34;&amp;gt;Index&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;
  &amp;lt;div id=&#34;messages&#34;&amp;gt;&amp;lt;/div&amp;gt;
  &amp;lt;div id=&#34;fixtures&#34;&amp;gt;&amp;lt;/div&amp;gt;
  &amp;lt;script src=&#34;vendor/mocha.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;script src=&#34;vendor/chai.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;script src=&#34;cow.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;script&amp;gt;mocha.setup(&#39;bdd&#39;)&amp;lt;/script&amp;gt;
  &amp;lt;script src=&#34;cow_test.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;script&amp;gt;mocha.run();&amp;lt;/script&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Please note we&#39;ll be using &lt;a href=&#34;http://chaijs.com/api/bdd/&#34;&gt;Chai&#39;s &lt;em&gt;BDD&lt;/em&gt; Expect API&lt;/a&gt;, hence the &lt;code&gt;mocha.setup(&#39;bdd&#39;)&lt;/code&gt; call here.&lt;/p&gt;
&lt;p&gt;Now let&#39;s write a simple test suite for our &lt;code&gt;Cow&lt;/code&gt; object constructor in &lt;code&gt;cow_test.js&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var expect = chai.expect;

describe(&#34;Cow&#34;, function() {
  describe(&#34;constructor&#34;, function() {
    it(&#34;should have a default name&#34;, function() {
      var cow = new Cow();
      expect(cow.name).to.equal(&#34;Anon cow&#34;);
    });

    it(&#34;should set cow&#39;s name if provided&#34;, function() {
      var cow = new Cow(&#34;Kate&#34;);
      expect(cow.name).to.equal(&#34;Kate&#34;);
    });
  });

  describe(&#34;#greets&#34;, function() {
    it(&#34;should throw if no target is passed in&#34;, function() {
      expect(function() {
        (new Cow()).greets();
      }).to.throw(Error);
    });

    it(&#34;should greet passed target&#34;, function() {
      var greetings = (new Cow(&#34;Kate&#34;)).greets(&#34;Baby&#34;);
      expect(greetings).to.equal(&#34;Kate greets Baby&#34;);
    });
  });
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Tests should be passing, so if you open the HTML document in your browser, you should get something like:&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;sample mocha+chai results screenshot&#34; src=&#34;/static/code/2013/cow-tests-ok.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If any of these expectations fails, you&#39;ll be notified in the test results, eg. if we change the implementation of &lt;code&gt;greets&lt;/code&gt; as below:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  Cow.prototype = {
    greets: function(target) {
      if (!target)
        throw new Error(&#34;missing target&#34;);
      return this.name + &#34; greets &#34; + target + &#34;!&#34;;
    }
  };
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You&#39;ll get this instead:&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;sample mocha+chai results screenshot&#34; src=&#34;/static/code/2013/cow-tests-ko.png&#34; /&gt;&lt;/p&gt;
&lt;h3&gt;How about testing asynchronous stuff?&lt;/h3&gt;
&lt;p&gt;Now imagine we implement a &lt;code&gt;Cow#lateGreets&lt;/code&gt; method so the greetings come with a delay of one second:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  Cow.prototype = {
    greets: function(target) {
      if (!target)
        throw new Error(&#34;missing target&#34;);
      return this.name + &#34; greets &#34; + target + &#34;!&#34;;
    },

    lateGreets: function(target, cb) {
      setTimeout(function(self) {
        try {
          cb(null, self.greets(target));
        } catch (err) {
          cb(err);
        }
      }, 1000, this);
    }
  };
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We need to test this one as well, and Mocha helps us with its optional &lt;code&gt;done&lt;/code&gt; callback for tests:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  describe(&#34;#lateGreets&#34;, function() {
    it(&#34;should pass an error if no target is passed&#34;, function(done) {
      (new Cow()).lateGreets(null, function(err, greetings) {
        expect(err).to.be.an.instanceof(Error);
        done();
      });
    });

    it(&#34;should greet passed target after one second&#34;, function(done) {
      (new Cow(&#34;Kate&#34;)).lateGreets(&#34;Baby&#34;, function(err, greetings) {
        expect(greetings).to.equal(&#34;Kate greets Baby&#34;);
        done();
      });
    });
  });
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Conveniently, Mocha will highlight any suspiciously long operation with red pills in case it wasn&#39;t really expected:&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;sample screenshot&#34; src=&#34;/static/code/2013/cow-async-tests-ok.png&#34; /&gt;&lt;/p&gt;
&lt;h3&gt;Using Sinon for faking the environment&lt;/h3&gt;
&lt;p&gt;When you do unit testing, you don&#39;t want to depend on stuff external to the unit of code under test. And while avoiding your functions to have side effects is usually a good practice, in Web development it&#39;s not always easy task (think DOM, Ajax, native browser APIs, etc.)&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://sinonjs.org/&#34;&gt;Sinon&lt;/a&gt; is a great JavaScript library for stubbing and mocking such external dependencies and to keep control on side effects against them.&lt;/p&gt;
&lt;p&gt;As an example, let&#39;s imagine that our &lt;code&gt;Cow#greets&lt;/code&gt; method wouldn&#39;t return a string but rather directly log them onto the browser console:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// cow.js
(function(exports) {
  &#34;use strict&#34;;

  function Cow(name) {
    this.name = name || &#34;Anon cow&#34;;
  }
  exports.Cow = Cow;

  Cow.prototype = {
    greets: function(target) {
      if (!target)
        return console.error(&#34;missing target&#34;);
      console.log(this.name + &#34; greets &#34; + target);
    }
  };
})(this);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;How to unit test this? Well, Sinon to the rescue! First, let&#39;s add the &lt;a href=&#34;http://sinonjs.org/releases/sinon-1.7.1.js&#34;&gt;Sinon script&lt;/a&gt; to our HTML test file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;!-- ... --&amp;gt;
&amp;lt;script src=&#34;vendor/mocha.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&#34;vendor/chai.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&#34;vendor/sinon-1.7.1.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We&#39;ll &lt;em&gt;stub&lt;/em&gt; the &lt;code&gt;console&lt;/code&gt; object&#39;s &lt;code&gt;log&lt;/code&gt; and &lt;code&gt;error&lt;/code&gt; methods so we can check they&#39;re called and what&#39;s passed to them:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var expect = chai.expect;

describe(&#34;Cow&#34;, function() {
  var sandbox;

  beforeEach(function() {
    // create a sandbox
    sandbox = sinon.sandbox.create();

    // stub some console methods
    sandbox.stub(window.console, &#34;log&#34;);
    sandbox.stub(window.console, &#34;error&#34;);
  });

  afterEach(function() {
    // restore the environment as it was before
    sandbox.restore();
  });

  // ...

  describe(&#34;#greets&#34;, function() {
    it(&#34;should log an error if no target is passed in&#34;, function() {
      (new Cow()).greets();

      sinon.assert.notCalled(console.log);
      sinon.assert.calledOnce(console.error);
      sinon.assert.calledWithExactly(console.error, &#34;missing target&#34;)
    });

    it(&#34;should log greetings&#34;, function() {
      var greetings = (new Cow(&#34;Kate&#34;)).greets(&#34;Baby&#34;);

      sinon.assert.notCalled(console.error);
      sinon.assert.calledOnce(console.log);
      sinon.assert.calledWithExactly(console.log, &#34;Kate greets Baby&#34;)
    });
  });
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Several things to be noticed here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;beforeEach&lt;/code&gt; and &lt;code&gt;afterEach&lt;/code&gt; are part of the Mocha API and allow to define setup and tear down operations for each test;&lt;/li&gt;
&lt;li&gt;Sinon provides sandboxing, basically allowing to define and attach a set of stubs to a sandbox object you&#39;ll be able to restore at some point;&lt;/li&gt;
&lt;li&gt;When stubbed, &lt;em&gt;real&lt;/em&gt; functions are not called at all, so here obviously nothing will be printed onto the browser console;&lt;/li&gt;
&lt;li&gt;Sinon ships with its own assertion library, hence the &lt;code&gt;sinon.assert&lt;/code&gt; calls; a &lt;a href=&#34;https://github.com/domenic/sinon-chai&#34;&gt;sinon-chai&lt;/a&gt; plugin exists for Chai, you may want to have a look at it.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;There are many cool other aspects of &lt;a href=&#34;http://visionmedia.github.io/mocha/&#34;&gt;Mocha&lt;/a&gt;, &lt;a href=&#34;http://chaijs.com/&#34;&gt;Chai&lt;/a&gt; and &lt;a href=&#34;http://sinonjs.org/&#34;&gt;Sinon&lt;/a&gt; I couldn&#39;t cover in this blog post, but I hope it opened your appetite for investigating more about them. Happy testing!&lt;/strong&gt;&lt;/p&gt;</description>
            <pubDate>Tue, 23 Jul 2013 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/code/2013/testing-frontend-javascript-code-using-mocha-chai-and-sinon/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>CasperJS 1.1-beta1 released, with Gecko support</title>
            <link>https://nicolas.perriault.net/code/2013/casperjs-1.1-beta1-released/</link>
            <description>&lt;figure&gt;
    &lt;img src=&#34;/static/code/2013/fantomes.jpg&#34; alt=&#34;&#34; width=&#34;660&#34;&gt;
    &lt;figcaption&gt;
        © &lt;a href=&#34;https://secure.flickr.com/photos/drooo/6946563420/&#34;&gt;Fantôme, by DROOO&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;I&#39;m happy to annouce the immediate availability of &lt;a href=&#34;https://github.com/n1k0/casperjs/releases/tag/1.1-beta1&#34;&gt;CasperJS 1.1-beta1&lt;/a&gt;, featuring support for &lt;a href=&#34;http://slimerjs.org/&#34;&gt;SlimerJS&lt;/a&gt;, which basically ports the &lt;a href=&#34;https://github.com/ariya/phantomjs/wiki/API-Reference&#34;&gt;PhantomJS API&lt;/a&gt; onto the &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Mozilla/Gecko&#34;&gt;Gecko platform&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Yes, that means as of 1.1-beta1 you can run most of your existing CasperJS scripts against a headless Firefox (using a virtual framebuffer for now), thanks to the huge amount of effort provided by &lt;a href=&#34;http://ljouanneau.com/&#34;&gt;Laurent Jouanneau&lt;/a&gt;, a long-time XUL/Gecko contributor.&lt;/p&gt;
&lt;p&gt;This is great news for all Web developers wanting to avoid contributing to the &lt;a href=&#34;http://www.sitepoint.com/5-reasons-to-reject-webkit-monoculture/&#34;&gt;establishment of a monoculture&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;1.1-beta1 brings a whole lot more other features, you may want to read the &lt;a href=&#34;https://github.com/n1k0/casperjs/releases/tag/1.1-beta1&#34;&gt;full CHANGELOG&lt;/a&gt;.&lt;/p&gt;</description>
            <pubDate>Sat, 13 Jul 2013 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/code/2013/casperjs-1.1-beta1-released/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Flatten JavaScript Pyramids with Async.js</title>
            <link>https://nicolas.perriault.net/code/2013/flatten-javascript-pyramids-with-async-js/</link>
            <description>&lt;figure&gt;
    &lt;img src=&#34;/static/code/2013/pyramids.png&#34; alt=&#34;&#34;&gt;
    &lt;figcaption&gt;
        &lt;a href=&#34;https://secure.flickr.com/photos/dkrape/5154684093/&#34;&gt;Pyramid of Menkaure, by Darren Krape&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;I&#39;ve recently open-sourced &lt;a href=&#34;https://github.com/scopyleft/hubot-mood&#34;&gt;hubot-mood&lt;/a&gt;, a &lt;a href=&#34;http://hubot.github.com/&#34;&gt;hubot&lt;/a&gt; script to store a team&#39;s mood and get some metrics about it. We&#39;re using it at &lt;a href=&#34;http://scopyleft.fr/&#34;&gt;Scopyleft&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Moods are stored in &lt;a href=&#34;http://redis.io/&#34;&gt;redis&lt;/a&gt; through the &lt;a href=&#34;https://github.com/mranney/node_redis&#34;&gt;node-redis&lt;/a&gt; library, which uses asynchronous calls to perform operations on the redis backend.&lt;/p&gt;
&lt;p&gt;So typically, to store an entry, you do something like the following:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function store(mood, cb) {
    redis.rpush(&#34;moods&#34;, mood, function(err) {
        cb(err, mood);
    });
}

store(&#34;2013-02-01:n1k0:sunny&#34;, function(err, mood) {
    if (err) throw err;
    console.log(&#34;stored mood entry: &#34; + mood);
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Classic. But what if you want to perform multiple insertions, eg. to load a bunch of fixtures for your tests? I&#39;m using &lt;a href=&#34;http://visionmedia.github.com/mocha/&#34;&gt;mocha&lt;/a&gt; here:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;describe(&#34;moods test&#34;, function() {
    // fixtures
    var moods = [
        &#34;2013-02-01:n1k0:sunny&#34;
      , &#34;2013-02-02:n1k0:cloudy&#34;
      , &#34;2013-02-03:n1k0:stormy&#34;
      , &#34;2013-02-04:n1k0:rainy&#34;
      // … we could add many more
    ];

    it(&#34;should do something useful with moods&#34;, function(done) {
        store(moods[0], function(err, mood) {
            assert.ifError(err);
            store(moods[1], function(err, mood) {
                assert.ifError(err);
                store(moods[2], function(err, mood) {
                    assert.ifError(err);
                    store(moods[3], function(err, mood) {
                        assert.ifError(err);
                        // now let&#39;s test stuff with stored moods
                        done();
                    });
                });
            });
        });
    });
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here we go again, &lt;a href=&#34;http://callbackhell.com/&#34;&gt;callback hell&lt;/a&gt; and unmanageable pyramids.&lt;/p&gt;
&lt;h2&gt;Async.js to the rescue&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/caolan/async&#34;&gt;Async.js&lt;/a&gt; is a node library to help dealing with &lt;em&gt;asynchronicity&lt;/em&gt; and flatten pyramids. A &lt;code&gt;npm install async&lt;/code&gt; later, we&#39;re ready to go:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;describe(&#34;moods tests&#34;, function() {
    var moods = [
        &#34;2013-02-01:n1k0:sunny&#34;
      , &#34;2013-02-02:n1k0:cloudy&#34;
      , &#34;2013-02-03:n1k0:stormy&#34;
      , &#34;2013-02-04:n1k0:rainy&#34;
      // … we could add many more
    ];

    it(&#34;should do something useful with moods&#34;, function(done) {
        async.parallel([
            function(cb) {
                store(mood[0], function(err, mood) {
                    cb(err, mood);
                });
            },
            function(cb) {
                store(mood[1], function(err, mood) {
                    cb(err, mood);
                });
            },
            function(cb) {
                store(mood[2], function(err, mood) {
                    cb(err, mood);
                });
            },
            function(cb) {
                store(mood[3], function(err, mood) {
                    cb(err, mood);
                });
            },
        ], function(err, moods) {
            assert.ifError(err);
            // now let&#39;s test stuff with stored moods
            done();
        });
    });
});
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Wait a minute, it&#39;s not &#34;better&#34; at all!&lt;/h2&gt;
&lt;p&gt;Indeed, this is definitely not &lt;a href=&#34;https://en.wikipedia.org/wiki/Don&#39;t_repeat_yourself&#34;&gt;DRY code&lt;/a&gt;. But one has to be creative to turn a tool into an efficient solution; let&#39;s invoke the powers of &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/map&#34;&gt;&lt;code&gt;Array#map&lt;/code&gt;&lt;/a&gt; to build the required callback functions out of our &lt;code&gt;moods&lt;/code&gt; array:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function load(fixtures, onComplete) {
    async.parallel(fixtures.map(function(fixture) {
        return function(cb) {
            store(fixture, function(err, result) {
                cb(err, result);
            });
        };
    }), onComplete);
}

describe(&#34;moods tests&#34;, function() {
    var moods = [
        &#34;2013-02-01:n1k0:sunny&#34;
      , &#34;2013-02-02:n1k0:cloudy&#34;
      , &#34;2013-02-03:n1k0:stormy&#34;
      , &#34;2013-02-04:n1k0:rainy&#34;
      // … we could add many more
    ];

    it(&#34;should do something useful with moods&#34;, function(done) {
        load(moods, function(err, storedMoods) {
            assert.ifError(err);
            // now let&#39;s test stuff with stored moods
            done();
        });
    });
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Edit:&lt;/strong&gt; there&#39;s even a built-in &lt;code&gt;async.map()&lt;/code&gt; function, not sure how I missed it; so the code is even shorter:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;describe(&#34;moods tests&#34;, function() {
    var moods = [
        &#34;2013-02-01:n1k0:sunny&#34;
      , &#34;2013-02-02:n1k0:cloudy&#34;
      , &#34;2013-02-03:n1k0:stormy&#34;
      , &#34;2013-02-04:n1k0:rainy&#34;
      // … we could add many more
    ];

    it(&#34;should do something useful with moods&#34;, function(done) {
        async.map(moods, store, function(err, storedMoods) {
            assert.ifError(err);
            // now let&#39;s test stuff with stored moods
            done();
        });
    });
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/caolan/async&#34;&gt;Async.js&lt;/a&gt; is a great package and one of the most popular of the &lt;a href=&#34;http://npmjs.org/&#34;&gt;node ecosystem&lt;/a&gt;, but there are &lt;a href=&#34;https://npmjs.org/browse/keyword/async&#34;&gt;many others&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Such a library combined with a &lt;a href=&#34;http://cjohansen.no/talks/2012/sdc-functional/&#34;&gt;functional approach&lt;/a&gt; provides a killer combo to solve your daily problems when programming &lt;a href=&#34;/code/2013/why_javascript/&#34;&gt;JavaScript&lt;/a&gt;.&lt;/p&gt;</description>
            <pubDate>Tue, 05 Feb 2013 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/code/2013/flatten-javascript-pyramids-with-async-js/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Why JavaScript?</title>
            <link>https://nicolas.perriault.net/code/2013/why_javascript/</link>
            <description>&lt;p&gt;I&#39;m mostly a pythonista, though many people keep &lt;del&gt;trolling&lt;/del&gt; asking me why I&#39;m doing JavaScript, &lt;em&gt;oh boy, such a language that sucks&lt;/em&gt;. I&#39;m putting this blog post here to address this question once for all, let me hope.&lt;/p&gt;
&lt;p&gt;Since 15 years, I&#39;ve been learning Perl, PHP, JavaScript, Python, JavaScript, Clojure, a tiny bit of Ruby, Haskell &amp;amp; Erlang for educational purpose, and JavaScript.&lt;/p&gt;
&lt;p&gt;— &lt;em&gt;Wait a minute, JavaScript is mentioned THREE times, you mad.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Yep, JavaScript — like many other programming languages probably — is one you have to learn three times to be proficient with it. The first time, to &lt;a href=&#34;https://en.wikipedia.org/wiki/Dynamic_HTML&#34;&gt;hate it&lt;/a&gt;. The second time, to &lt;a href=&#34;http://jquery.com/&#34;&gt;start appreciating it&lt;/a&gt;. The third time, to &lt;a href=&#34;http://ejohn.org/apps/learn/&#34;&gt;understand it&lt;/a&gt; and get shit actually done.&lt;/p&gt;
&lt;p&gt;Now some facts:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JavaScript surely has &lt;a href=&#34;http://wtfjs.com/&#34;&gt;its quirks&lt;/a&gt; (many)&lt;/li&gt;
&lt;li&gt;JavaScript reminds me the cool epoch of &lt;a href=&#34;https://en.wikipedia.org/wiki/Demoscene&#34;&gt;demoscene&lt;/a&gt;: example &lt;a href=&#34;http://www.chromeexperiments.com/&#34;&gt;1&lt;/a&gt;, &lt;a href=&#34;http://js1k.com/&#34;&gt;2&lt;/a&gt;, &lt;a href=&#34;http://www.p01.org/releases/&#34;&gt;3&lt;/a&gt;, &lt;a href=&#34;http://www.wab.com/&#34;&gt;4&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;JavaScript has a &lt;a href=&#34;https://github.com/languages/JavaScript&#34;&gt;freaking huge ecosystem&lt;/a&gt; of tools &amp;amp; libraries&lt;/li&gt;
&lt;li&gt;Some &lt;a href=&#34;http://ejohn.org/&#34;&gt;very&lt;/a&gt; &lt;a href=&#34;https://github.com/jashkenas&#34;&gt;smart&lt;/a&gt; &lt;a href=&#34;http://worrydream.com/&#34;&gt;people&lt;/a&gt; are doing JavaScript&lt;/li&gt;
&lt;li&gt;JavaScript is suited for the rest of us, continuously &lt;a href=&#34;http://worrydream.com/LearnableProgramming/&#34;&gt;learning web hackers&lt;/a&gt; not having a PhD in CS&lt;/li&gt;
&lt;li&gt;JavaScript has a &lt;a href=&#34;http://www.codecademy.com/tracks/javascript&#34;&gt;rather low entry barrier&lt;/a&gt;; people can start coding and get results quickly&lt;/li&gt;
&lt;li&gt;JavaScript has &lt;a href=&#34;http://www.webreference.com/programming/javascript/rg25/index.html&#34;&gt;higher order functions&lt;/a&gt;; that&#39;s rather important if you&#39;re interested in functional programming&lt;/li&gt;
&lt;li&gt;Modern JavaScript VMs are &lt;a href=&#34;https://v8-io12.appspot.com/&#34;&gt;fast&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You&#39;re free not to like JavaScript or to find it dumb. You&#39;re encouraged to let other people take the time to learn it and get shit done with it.&lt;/p&gt;
&lt;p&gt;So:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Is JavaScript a usable language? Yes.&lt;/li&gt;
&lt;li&gt;Is JavaScript suited for all possible usages? Nope.&lt;/li&gt;
&lt;li&gt;Do you have to continuously rant about it? Probably not.&lt;/li&gt;
&lt;li&gt;Do you have to troll &amp;amp; mock people doing JavaScript? Stop doing that now.&lt;/li&gt;
&lt;li&gt;Do you have to &lt;a href=&#34;http://ejohn.org/apps/learn/&#34;&gt;learn JavaScript&lt;/a&gt; before criticizing it? &lt;a href=&#34;http://nedbatchelder.com/blog/201301/stupid_languages.html&#34;&gt;Definitely&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The problem many people have with JavaScript is they don&#39;t like it but want to join the browser party so badly — especially since even &lt;a href=&#34;https://www.mozilla.org/en-GB/firefoxos/&#34;&gt;cool operating systems&lt;/a&gt; plan to use it extensively. They would just love having their Python, Ruby, Haskell, Erlang, Java, C#, COBOL, &amp;lt;insert your favorite language here&amp;gt; being the default standardized language to code frontend webapps in a DOM environment. Unfortunately, that&#39;s not the case; JavaScript is the default language to manipulate the DOM in browsers and make things happen. And it&#39;s not likely to change anytime soon imho. But I&#39;ve got good news for you: &lt;a href=&#34;http://altjs.org/&#34;&gt;alternatives exist&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As an exciting side note, the next version of JavaScript, &lt;a href=&#34;https://brendaneich.com/2012/10/harmony-of-dreams-come-true/&#34;&gt;ECMAScript 6&lt;/a&gt;, will definitely step up from the previous version.&lt;/p&gt;
&lt;p&gt;Also, a cool idea I heard would be to have a low-level compilation target platform in browsers in order to code your next website in other languages than JavaScript but with great, native performance. Having a bit what the JVM is to Java and other languages running on it. That would be smart and definitely interesting. But one more time, it&#39;s not likely to happen soon.&lt;/p&gt;
&lt;p&gt;In the meanwhile, JavaScript is the language of the Web, and JavaScript engines are its running platform. There are better languages, there are worse. One thing is crystal clear: great, innovative &amp;amp; useful stuff can be achieved with it, you may want to be part of the move.&lt;/p&gt;
&lt;p&gt;And as always, remember that:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There are only two kinds of programming languages: those people always bitch about and those nobody uses. — Bjarne Stroustrup&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure&gt;
    &lt;a href=&#34;https://github.com/languages/&#34;&gt;
        &lt;img src=&#34;/static/code/top-languages.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;
&lt;/figure&gt;</description>
            <pubDate>Sat, 26 Jan 2013 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/code/2013/why_javascript/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>CasperJS hits 1.0 stable</title>
            <link>https://nicolas.perriault.net/code/2012/casperjs-hits-1-0-stable/</link>
            <description>&lt;p&gt;&lt;a href=&#34;http://casperjs.org/&#34;&gt;&lt;img src=&#34;/static/code/2012/casperjs-logo-squared-rounded.png&#34; alt=&#34;&#34; style=&#34;float:right;margin-left:1em;margin-bottom:.5em&#34;&gt;&lt;/a&gt;&lt;strong&gt;Hey, &lt;a href=&#34;/code/2012/introducing-casperjs-toolkit-phantomjs&#34;&gt;long time no see&lt;/a&gt;, right? Quite a lots of things have happened to my &lt;em&gt;tiny&lt;/em&gt; &lt;a href=&#34;http://casperjs.org/&#34;&gt;CasperJS&lt;/a&gt; pet project since then, which has just hit its &lt;a href=&#34;https://github.com/n1k0/casperjs/blob/master/CHANGELOG.md#2012-12-24-v10&#34;&gt;1.0 stable milestone&lt;/a&gt;. Merry Christmas :)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;As a reminder, &lt;em&gt;CasperJS is an open source navigation scripting &amp;amp; testing utility written in Javascript and based on &lt;a href=&#34;http://phantomjs.org/&#34;&gt;PhantomJS&lt;/a&gt; — the scriptable headless &lt;a href=&#34;http://webkit.org/&#34;&gt;WebKit&lt;/a&gt; engine&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Now some scary metrics about the project:&lt;/p&gt;
&lt;figure&gt;
    &lt;a href=&#34;http://gitego.com/n1k0/casperjs#watchers?interval=by_year&#34;&gt;&lt;img src=&#34;/static/code/2012/casperjs-github-evolution.png&#34; alt=&#34;&#34; style=&#34;width:100%;border-radius:5px&#34;&gt;&lt;/a&gt;
    &lt;figcaption&gt;Where will all of this end? Capture courtesy of &lt;a href=&#34;http://gitego.com/n1k0/casperjs#watchers?interval=by_year&#34;&gt;gitego.com&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;the project has now more than &lt;a href=&#34;https://github.com/n1k0/casperjs/stargazers&#34;&gt;&lt;strong&gt;1000 &lt;em&gt;stargazers&lt;/em&gt;&lt;/strong&gt;&lt;/a&gt; and &lt;a href=&#34;https://github.com/n1k0/casperjs/network&#34;&gt;&lt;strong&gt;150 forks&lt;/strong&gt;&lt;/a&gt; on github&lt;/li&gt;
&lt;li&gt;more than &lt;a href=&#34;https://github.com/n1k0/casperjs/graphs/commit-activity&#34;&gt;&lt;strong&gt;900 commits&lt;/strong&gt;&lt;/a&gt; have been pushed to the master branch (430 just for the &lt;a href=&#34;https://github.com/n1k0/casperjs/tree/gh-pages&#34;&gt;documentation&lt;/a&gt; one)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/n1k0/casperjs/graphs/contributors&#34;&gt;&lt;strong&gt;47 people&lt;/strong&gt;&lt;/a&gt; have contributed patches and docs to the project; I hereby want to hug them all!&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://travis-ci.org/n1k0/casperjs&#34;&gt;&lt;strong&gt;683 tests&lt;/strong&gt;&lt;/a&gt; ensure the software is actually stable&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;387 members&lt;/strong&gt; are subscribed to the &lt;a href=&#34;https://groups.google.com/forum/#!forum/casperjs&#34;&gt;mailing-list&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://stackoverflow.com/questions/tagged/casperjs&#34;&gt;&lt;strong&gt;88 questions&lt;/strong&gt;&lt;/a&gt; have been posted on Stack Overflow about CasperJS&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/casperjs_org/followers&#34;&gt;&lt;strong&gt;400 people&lt;/strong&gt;&lt;/a&gt; are following the &lt;a href=&#34;https://twitter.com/casperjs_org&#34;&gt;@casperjs_org&lt;/a&gt; twitter account&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Btw here&#39;s a short excerpt of what people are saying on twitter about it:&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p&gt;Trying out CasperJS. I am blown away &lt;a href=&#34;http://t.co/4sThrr7v&#34; title=&#34;http://casperjs.org/&#34;&gt;casperjs.org&lt;/a&gt;&lt;/p&gt;&amp;mdash; Beau (@beaumartinez) &lt;a href=&#34;https://twitter.com/beaumartinez/status/281467492759646210&#34; data-datetime=&#34;2012-12-19T18:34:14+00:00&#34;&gt;December 19, 2012&lt;/a&gt;&lt;/blockquote&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p&gt;Selenium : j&#39;ai jamais pu piffré. Casperjs c&#39;est de la balle ! J&#39;ai installé, et réalisé mes premiers tests en 15 minutes. Merci @&lt;a href=&#34;https://twitter.com/n1k0&#34;&gt;n1k0&lt;/a&gt;&lt;/p&gt;&amp;mdash; Laurent Jouanneau (@ljouanneau) &lt;a href=&#34;https://twitter.com/ljouanneau/status/278278668189593601&#34; data-datetime=&#34;2012-12-10T23:22:59+00:00&#34;&gt;December 10, 2012&lt;/a&gt;&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; lang=&#34;en&#34;&gt;&lt;p&gt;Turns out that @&lt;a href=&#34;https://twitter.com/phantomjs&#34;&gt;phantomjs&lt;/a&gt; with casperjs for headless, in-browser integration testing is rather awesome. Recommended.&lt;/p&gt;&amp;mdash; Boris Terzic (@boristerzic) &lt;a href=&#34;https://twitter.com/boristerzic/status/275920317908656129&#34; data-datetime=&#34;2012-12-04T11:11:44+00:00&#34;&gt;Décembre 4, 2012&lt;/a&gt;&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p&gt;@&lt;a href=&#34;https://twitter.com/n1k0&#34;&gt;n1k0&lt;/a&gt; Thanks for CasperJS. If we ever meet in person, I owe you a beer.&lt;/p&gt;&amp;mdash; Stephen Hay (@stephenhay) &lt;a href=&#34;https://twitter.com/stephenhay/status/274435181077753856&#34; data-datetime=&#34;2012-11-30T08:50:20+00:00&#34;&gt;November 30, 2012&lt;/a&gt;&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p&gt;sweet goodness -- Phantom.JS + Casper.JS is what we always wanted for testing client-side stuff&lt;/p&gt;&amp;mdash; christian verkerk (@chrisverkerk) &lt;a href=&#34;https://twitter.com/chrisverkerk/status/273220063761408000&#34; data-datetime=&#34;2012-11-27T00:21:54+00:00&#34;&gt;November 27, 2012&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;/center&gt;
&lt;p style=&#34;text-align:center&#34;&gt;&lt;strong&gt;&lt;code&gt;&amp;lt;/brag&amp;gt;&amp;lt;realism&amp;gt;&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/p&gt;
&lt;p&gt;That makes a lot of attention — and therefore expectations — for what started as a &lt;em&gt;tiny helper script on top of PhantomJS&lt;/em&gt;… and put a bit of pressure on my shoulders :)&lt;/p&gt;
&lt;h2&gt;So what&#39;s new in CasperJS 1.0?&lt;/h2&gt;
&lt;p&gt;Lots of stuff, and &lt;a href=&#34;https://github.com/n1k0/casperjs/issues?direction=asc&amp;amp;milestone=1&amp;amp;sort=created&amp;amp;state=closed&#34;&gt;I mean it&lt;/a&gt;. In no particular order:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;added a &lt;a href=&#34;http://casperjs.org/testing.html#casper-test-command&#34;&gt;&lt;code&gt;casperjs test&lt;/code&gt; command&lt;/a&gt; to run test scripts&lt;/li&gt;
&lt;li&gt;added support for &lt;a href=&#34;http://casperjs.org/selectors.html&#34;&gt;CSS3 and XPath selectors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;added support for &lt;a href=&#34;http://casperjs.org/api.html#casper.waitForPopup&#34;&gt;popups&lt;/a&gt; and &lt;a href=&#34;http://casperjs.org/api.html#casper.withFrame&#34;&gt;(i)frames&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;there&#39;s now a way to specify how many tests were planned when &lt;code&gt;done()&lt;/code&gt; is called&lt;/li&gt;
&lt;li&gt;easy access of current HTTP response object as the first parameter of step callbacks (thx &lt;a href=&#34;https://tiwtter.com/oncletom&#34;&gt;oncletom&lt;/a&gt;!)&lt;/li&gt;
&lt;li&gt;many new &lt;a href=&#34;http://casperjs.org/api.html#tester&#34;&gt;assertions methods&lt;/a&gt; have been added to the &lt;code&gt;Tester&lt;/code&gt; class&lt;/li&gt;
&lt;li&gt;added a convenient &lt;a href=&#34;http://en.wikipedia.org/wiki/Batch_file&#34;&gt;Batch&lt;/a&gt; script for Windows users &lt;small&gt;that&#39;s where you gotta love your community&lt;/small&gt;&lt;/li&gt;
&lt;li&gt;better contextualization of errors, nicer output of them&lt;/li&gt;
&lt;li&gt;XUnit XML test result logs now contain the duration of each test case&lt;/li&gt;
&lt;li&gt;added many new &lt;a href=&#34;http://casperjs.org/events-filters.html&#34;&gt;events and filters&lt;/a&gt; so you can hook quite wherever you want into the casper asynchronous workflow&lt;/li&gt;
&lt;li&gt;better compliance with PhantomJS&#39; native &lt;code&gt;evaluate()&lt;/code&gt; argument passing&lt;/li&gt;
&lt;li&gt;plus many bugfixes, refactors and other enhancements&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As a side note:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PhantomJS 1.6.x support has been dropped&lt;/li&gt;
&lt;li&gt;PhantomJS &lt;a href=&#34;http://phantomjs.org/release-1.7.html&#34;&gt;1.7&lt;/a&gt; &amp;amp; &lt;a href=&#34;http://phantomjs.org/release-1.8.html&#34;&gt;1.8&lt;/a&gt; are supported&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;The CasperJS ecosystem&lt;/h2&gt;
&lt;p&gt;As I realized that opensource projects based on CasperJS were created, I decided to open &lt;a href=&#34;https://github.com/casperjs&#34;&gt;a dedicated github organization&lt;/a&gt;, first for trying to list them in a central place.&lt;/p&gt;
&lt;p&gt;Some interesting CasperJS-based projects:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&#34;https://github.com/WaterfallEngineering/SpookyJS&#34;&gt;SpookyJS&lt;/a&gt;&lt;/strong&gt;, which basically allow driving CasperJS from &lt;a href=&#34;http://nodejs.org/&#34;&gt;Node.js&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&#34;https://github.com/ebrehault/resurrectio&#34;&gt;resurectio&lt;/a&gt;&lt;/strong&gt;, a &lt;a href=&#34;http://www.google.com/chrome&#34;&gt;Chrome&lt;/a&gt; extension for recording your casper tests&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&#34;https://github.com/brianmhunt/casper-chai&#34;&gt;casper-chai&lt;/a&gt;&lt;/strong&gt; extends &lt;a href=&#34;http://chaijs.com/&#34;&gt;Chai&lt;/a&gt; with assertions for CasperJS&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&#34;https://github.com/ronaldlokers/grunt-casperjs&#34;&gt;grunt-casperjs&lt;/a&gt;&lt;/strong&gt; and &lt;strong&gt;&lt;a href=&#34;https://github.com/caiges/grunt-functional&#34;&gt;grunt-functional&lt;/a&gt;&lt;/strong&gt;, both based on &lt;a href=&#34;http://gruntjs.com/&#34;&gt;grunt&lt;/a&gt;, allowing to launch your CasperJS tests as well as other javascript build operations in a single command line call&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&#34;https://github.com/Huddle/PhantomCSS&#34;&gt;PhantomCSS&lt;/a&gt;&lt;/strong&gt;, which provides integration of js-imagediff with PhantomJS (and CasperJS) for automated visual regression testing&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&#34;https://github.com/acuminous/yadda&#34;&gt;yadda&lt;/a&gt;&lt;/strong&gt;, which has just started but is &lt;a href=&#34;https://github.com/acuminous/yadda/blob/master/examples/casper/google-scenario.js&#34;&gt;genuinely exciting&lt;/a&gt;, intends to bring &lt;a href=&#34;http://en.wikipedia.org/wiki/Behavior-driven_development&#34;&gt;BDD&lt;/a&gt; to CasperJS&lt;/li&gt;
&lt;li&gt;… and many other &lt;a href=&#34;https://github.com/casperjs&#34;&gt;cool &amp;amp; useful projects&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;The future&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CasperJS 1.1 is on its way starting today&lt;/strong&gt;, and will provide new features and bugfixes, trying not to reinvent the capser wheel&lt;/li&gt;
&lt;li&gt;CasperJS 2.0 will probably be a big &lt;del&gt;rewrite&lt;/del&gt; refactor of the 1.x codebase, and will try to use more of the existing javascript ecosystem (think &lt;a href=&#34;http://visionmedia.github.com/mocha/&#34;&gt;mocha&lt;/a&gt; for instance)… but let&#39;s enjoy the 1.x for a while first! &lt;small&gt;and let me have a bit of sleep too&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See ya.&lt;/p&gt;</description>
            <pubDate>Mon, 24 Dec 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/code/2012/casperjs-hits-1-0-stable/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Le Web au doigt et à l&#39;œil avec CasperJS</title>
            <link>https://nicolas.perriault.net/talks/2012/sudweb-le-web-au-doigt-et-a-l-oeil-avec-casperjs/</link>
            <description>&lt;p&gt;Conférence donnée lors de &lt;a href=&#34;http://sudweb.fr/2012/talk/le-web-au-doigt-et-a-loeil-avec-casperjs/&#34;&gt;l&#39;édition 2012 de SudWeb&lt;/a&gt;&amp;nbsp;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;CasperJS est un outil permettant de scripter en Javascript un scénario de navigation sur un véritable navigateur Web, basé sur Webkit et ne nécessitant pas d’interface graphique. CasperJS peut servir à produire des tests fonctionnels poussés bénéficiant d’un environnement DOM et Javascript complet, mais aussi à analyser des documents Web, faire des tests de performance ou même extraire des données.&lt;/p&gt;
&lt;p&gt;L’intérêt majeur de CasperJS est qu’il permet relativement simplement de tester et valider fonctionnellement des sites et applications Web complexes, reposant sur l’exploitation intensives de Javascript, de comportements asynchrones et d’AJAX par exemple.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;iframe src=&#34;http://player.vimeo.com/video/49221062&#34; width=&#34;658&#34; height=&#34;500&#34; 
    frameborder=&#34;0&#34; webkitAllowFullScreen mozallowfullscreen allowFullScreen&gt;&lt;/iframe&gt;

&lt;script async class=&#34;speakerdeck-embed&#34;
    data-id=&#34;4fc49ec24465dc001f008cb2&#34;
    data-ratio=&#34;1.3333333333333333&#34;
    src=&#34;//speakerdeck.com/assets/embed.js&#34;&gt;
    &lt;p&gt;
        &lt;a href=&#34;https://speakerdeck.com/u/n1k0/p/le-web-au-doigt-et-a-loeil-avec-casperjs&#34;&gt;Lien direct vers la présentation&lt;/a&gt;
    &lt;/p&gt;
&lt;/script&gt;

&lt;p&gt;
    &lt;a href=&#34;https://speakerd.s3.amazonaws.com/presentations/4fc49ec24465dc001f008cb2/prez_casperjs.pdf&#34;&gt;Télécharger au format PDF&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;Un screencast d&#39;une partie l&#39;atelier qui a suivi cette présentation est également &lt;a href=&#34;http://vimeo.com/album/1951235/video/42881484&#34;&gt;disponible sur Vimeo&lt;/a&gt;&amp;nbsp;:&lt;/p&gt;
&lt;iframe src=&#34;http://player.vimeo.com/video/42881484&#34;
    width=&#34;660&#34; height=&#34;381&#34;
    frameborder=&#34;0&#34;
    webkitAllowFullScreen
    mozallowfullscreen
    allowFullScreen&gt;&lt;/iframe&gt;</description>
            <pubDate>Thu, 24 May 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/talks/2012/sudweb-le-web-au-doigt-et-a-l-oeil-avec-casperjs/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Nouvelles aventures</title>
            <link>https://nicolas.perriault.net/carnet/2012/nouvelles-aventures/</link>
            <description>&lt;p&gt;&lt;strong&gt;Mise à jour du 2 avril :&lt;/strong&gt; Ok, on a bien rigolé (ou pas™), mais le poisson était visiblement trop gros. Il faut dire que je n&#39;y suis pas allé de main morte non plus.&lt;/p&gt;
&lt;p&gt;Pour mémoire, le contenu original du billet :&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Cela fait quelques mois que je m&#39;interroge sur la pérennité de mon activité en temps qu&#39;indépendant, car force est de constater que la conjoncture ne facilite pas mon approche initiale plutôt artisanale du développement Web.&lt;/p&gt;
&lt;p&gt;C&#39;est pour cela que lorsque j&#39;ai été contacté par &lt;a href=&#34;http://oracle.com/&#34;&gt;Oracle&lt;/a&gt; pour un éventuel rachat d&#39;&lt;a href=&#34;http://akei.com/&#34;&gt;Akei&lt;/a&gt;, ma société, afin d&#39;intégrer l&#39;expertise autour de &lt;a href=&#34;http://casperjs.org/&#34;&gt;CasperJS&lt;/a&gt;, je n&#39;ai pu m&#39;empêcher d&#39;y voir un signe du destin m&#39;invitant à remettre en questions un certain nombre de principes que je croyais miens jusqu&#39;alors.&lt;/p&gt;
&lt;p&gt;En effet, j&#39;ai toujours — de façon un peu naïvement idéologique il est vrai — voulu privilégier une approche humaniste du développement logiciel, favorisant les interactions humaines avant tout dans la perspective de faciliter la production de valeur ajoutée. À l&#39;épreuve des faits, force a été de constater que sans une approche épaulée commercialement de l&#39;industrialisation de la production logicielle, tout ceci est condamné à rester lettre morte dans nos sociétés toujours plus assujetties aux vigoureuses et motivantes pressions économiques de toutes parts, particulièrement des pays émergeants, offrant toujours plus pour de moins en moins cher…&lt;/p&gt;
&lt;p&gt;Aussi, j&#39;integrerai dès lundi &lt;a href=&#34;http://www.oracle.com/fr/index.html&#34;&gt;Oracle France&lt;/a&gt; en tant que Responsable du Pôle Régional de Développement Stratégique et d&#39;Innovation Web au sein des locaux parisiens de la société. J&#39;en profiterai par conséquence pour quitter Montpellier et retrouver la dynamique capitale française, que je suis bien obligé de légitimer comme le seul véritable endroit où &lt;em&gt;les choses se font&lt;/em&gt;, comme on dit.&lt;/p&gt;
&lt;p&gt;En ce qui concerne &lt;a href=&#34;http://casperjs.org/&#34;&gt;CasperJS&lt;/a&gt;, le processus de réécriture en Java a été secrètement entamé depuis quelques semaines, et je pense pouvoir fournir dans les jours qui viennent une première version alpha exploitant l&#39;incroyable puissance de l&#39;&lt;a href=&#34;http://www.oracle.com/technetwork/developer-tools/adf/overview/index.html&#34;&gt;Oracle Development Framework&lt;/a&gt;…&lt;/p&gt;
&lt;p&gt;… et de tout l&#39;&lt;a href=&#34;http://www.marseille-sympa.com/merou.jpg&#34;&gt;ecosystème J2EE plus généralement&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;</description>
            <pubDate>Sun, 01 Apr 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/carnet/2012/nouvelles-aventures/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Cadaqués at Night</title>
            <link>https://nicolas.perriault.net/photography/2012/cadaques/</link>
            <description>&lt;p&gt;&lt;img src=&quot;/static/photography/2012/cadaques/main.jpg&quot; alt=&quot;Cadaqués at Night by Nicolas Perriault&quot;&gt;&lt;/p&gt;&lt;p&gt;Cadaqués, Spain&lt;/p&gt;&lt;p&gt;Long exposure shot (25s.) of &lt;a href=&#34;http://g.co/maps/fwrh2&#34;&gt;Cadaqués&lt;/a&gt; at night using the Fuji X100.&lt;/p&gt;</description>
            <pubDate>Mon, 12 Mar 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/photography/2012/cadaques/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Dalí’s Cadillac</title>
            <link>https://nicolas.perriault.net/photography/2012/dali-s-cadillac/</link>
            <description>&lt;p&gt;&lt;img src=&quot;/static/photography/2012/dali-s-cadillac/main.jpg&quot; alt=&quot;Dalí’s Cadillac by Nicolas Perriault&quot;&gt;&lt;/p&gt;&lt;p&gt;Dalí’s Cadillac, Casa Dalí, Figueres, Spain&lt;/p&gt;&lt;p&gt;Back from an amazing journey to the crazy world of Salvador Dalí.&lt;/p&gt;</description>
            <pubDate>Sun, 11 Mar 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/photography/2012/dali-s-cadillac/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>CasperJS, a toolkit on top of PhantomJS</title>
            <link>https://nicolas.perriault.net/code/2012/introducing-casperjs-toolkit-phantomjs/</link>
            <description>&lt;p&gt;It&#39;s been quite a while since I posted about the &lt;a href=&#34;/code/2011/scrape-and-test-any-webpage-using-phantomjs/&#34;&gt;awesomeness of PhantomJS&lt;/a&gt;, the &lt;em&gt;scriptable headless WebKit with JavaScript API&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;In the meanwhile, I started coding a &lt;a href=&#34;https://github.com/n1k0/casperjs/commit/133310d814d79db08c3982ee4af31d0a71813b8c&#34;&gt;tiny lib&lt;/a&gt; to ease the creation of &lt;a href=&#34;http://phantomjs.org/&#34;&gt;PhantomJS&lt;/a&gt; scripts, especially navigation scenarios.&lt;/p&gt;
&lt;p&gt;Six months later, the lib has gained many more features and is now an entire project on its own; &lt;a href=&#34;http://casperjs.org/&#34;&gt;CasperJS&lt;/a&gt; was born and at the time these lines are written, the code repository has more than &lt;a href=&#34;https://github.com/n1k0/casperjs&#34;&gt;180 watchers and 32 forks on Github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://ariya.ofilabs.com/&#34;&gt;Ariya Hidayat&lt;/a&gt;&amp;nbsp;— the creator of PhantomJS&amp;nbsp;— even says of it:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In case you haven’t seen CasperJS yet, go and take a look, it’s an &lt;em&gt;extremely&lt;/em&gt; useful companion to PhantomJS. (&lt;a href=&#34;http://ariya.ofilabs.com/2012/03/phantomjs-and-travis-ci.html&#34;&gt;source&lt;/a&gt;)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;But what does it do?&lt;/h2&gt;
&lt;p&gt;I&#39;m far too lazy not to quote &lt;a href=&#34;http://casperjs.org/&#34;&gt;CasperJS&#39; website&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;CasperJS is an open source navigation scripting &amp;amp; testing utility written in Javascript and based on PhantomJS — the scriptable headless WebKit engine. It eases the process of defining a full navigation scenario and provides useful high-level functions, methods &amp;amp; syntactic sugar for doing common tasks such as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;defining &amp;amp; ordering browsing navigation steps&lt;/li&gt;
&lt;li&gt;filling &amp;amp; submitting forms&lt;/li&gt;
&lt;li&gt;clicking &amp;amp; following links&lt;/li&gt;
&lt;li&gt;capturing screenshots of a page (or part of it)&lt;/li&gt;
&lt;li&gt;making assertions on remote DOM&lt;/li&gt;
&lt;li&gt;logging events&lt;/li&gt;
&lt;li&gt;downloading resources, including binary ones&lt;/li&gt;
&lt;li&gt;writing functional test suites, saving results as JUnit XML&lt;/li&gt;
&lt;li&gt;scraping Web contents&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Hell, looks like some new coffee-machine… Let&#39;s quickly review some of these features though.&lt;/p&gt;
&lt;h2&gt;Creating navigation scenarios&lt;/h2&gt;
&lt;p&gt;Scripting a browsing workflow using Javascript is painfully hard if you intend to use chained callbacks. This kind of code is a nightmare to write, to read, to understand and to maintain:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var page = require(&#39;webpage&#39;).create();

page.open(url1, function(status) {
    if (status == &#34;fail&#34;) phantom.exit();
    page.open(url2, function(status) {
        if (status == &#34;fail&#34;) phantom.exit();
        page.open(url3, function(status) {
            if (status == &#34;fail&#34;) phantom.exit();
            page.open(url4, function(status) {
                if (status == &#34;fail&#34;) phantom.exit();
                // Can I stop, now?
            });
        });
    });
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Well, CasperJS solves this kind of problem using a convenient API for dealing with asynchronous stuff:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var casper = require(&#39;casper&#39;).create();

casper.start(url1);
casper.thenOpen(url2);
casper.thenOpen(url3);
casper.thenOpen(url4);

casper.run();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Want to simulate the user navigation as if he were clicking through links? No problem:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var casper = require(&#34;casper&#34;).create()
casper.start(&#39;http://my.blog.tld/&#39;);
casper.thenClick(&#39;nav#menu a.blog&#39;);
casper.thenClick(&#39;.posts li a&#39;);
casper.then(function() {
    this.echo(&#39;Page url is &#39; + this.getCurrentUrl());
    this.echo(&#39;Page title is &#39; + this.getTitle());
});

casper.run();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that you can alternatively use &lt;a href=&#34;http://coffeescript.org/&#34;&gt;coffeescript&lt;/a&gt; to write your scripts:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var casper = require(&#34;casper&#34;).create()
casper.start &#34;http://my.blog.tld/&#34;
casper.thenClick &#34;nav#menu a.blog&#34;
casper.thenClick &#34;.posts li a&#34;
casper.then -&amp;gt;
    @echo &#34;Page url is #{@getCurrentUrl()}&#34;
    @echo &#34;Page title is #{@getTitle()}&#34;
casper.run()
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Filling and handling forms&lt;/h2&gt;
&lt;p&gt;Filling and submitting a form is not much harder:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;casper.start(&#39;http://admin.domain.tld/login/&#39;, function() {
    this.fill(&#39;form[id=&#34;login-form&#34;]&#39;, {
        &#39;username&#39;: &#39;chuck&#39;,
        &#39;password&#39;: &#39;n0rr1s&#39;
    }, true);
});

casper.then(function() {
    this.echo(this.getTitle());
});

casper.run();
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Capturing screenshots&lt;/h2&gt;
&lt;p&gt;Capturing a screenshot of a given area is as easy as this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;casper.start(&#39;http://domain.tld/page.html&#39;, function() {
    this.captureSelector(&#39;capture.png&#39;, &#39;.article-content&#39;);
});

casper.run();
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Asynchronous rendering of page&lt;/h2&gt;
&lt;p&gt;Sometimes (ok, often), lots of stuff is loaded asynchronously through Ajax or any other fancy invention of the Devil. You can just wait for it to happen:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;casper.start(&#39;https://twitter.com/casperjs_org&#39;, function() {
    this.waitForSelector(&#39;.tweet-row&#39;, function() {
        this.captureSelector(&#39;twitter.png&#39;, &#39;html&#39;);
    }, function() {
        this.die(&#39;Timeout reached. Fail whale?&#39;).exit();
    }, 2000);
});
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Testing&lt;/h2&gt;
&lt;p&gt;Now all of this is fancy, but the true powers of CasperJS come from its functional testing capabilities. For example, testing google search can be done that way:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;casper.start(&#39;http://www.google.fr/&#39;, function() {
    this.test.assertTitle(&#39;Google&#39;, &#39;google homepage title is the one expected&#39;);
    this.test.assertExists(&#39;form[action=&#34;/search&#34;]&#39;, &#39;main form is found&#39;);
    this.fill(&#39;form[action=&#34;/search&#34;]&#39;, {
        q: &#39;foo&#39;
    }, true);
});

casper.then(function() {
    this.test.assertTitle(&#39;foo - Recherche Google&#39;, &#39;google title is ok&#39;);
    this.test.assertUrlMatch(/q=foo/, &#39;search term has been submitted&#39;);
    this.test.assertEval(function() {
        return __utils__.findAll(&#39;h3.r&#39;).length &amp;gt;= 10;
    }, &#39;google search for &#34;foo&#34; retrieves 10 or more results&#39;);
});

casper.run(function() {
    this.test.renderResults(true);
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Running the suite would produce this shiny colored output:&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;&#34; src=&#34;/static/code/2012/testsuiteok.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;As a bonus, these results can be exported as XUnit XML, eg. for being consumed by a continuous integration server like &lt;a href=&#34;http://jenkins-ci.org/&#34;&gt;Jenkins&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For the records, the whole CasperJS test suite is written using its own API, and results are &lt;a href=&#34;http://travis-ci.org/#!/n1k0/casperjs&#34;&gt;visible on Travis-CI&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Now, what?&lt;/h2&gt;
&lt;p&gt;Nothing, really. If you think it&#39;s useful, I&#39;m glad enough.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://casperjs.org/&#34;&gt;CasperJS website&lt;/a&gt;.&lt;/p&gt;</description>
            <pubDate>Thu, 08 Mar 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/code/2012/introducing-casperjs-toolkit-phantomjs/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Dead easy yet powerful static website generator with Flask</title>
            <link>https://nicolas.perriault.net/code/2012/dead-easy-yet-powerful-static-website-generator-with-flask/</link>
            <description>&lt;p&gt;It&#39;s been a long time I wanted to federate my online identities in a single, managed place — hence the website you&#39;re currently browsing. I&#39;ve also been looking for a static website builder for some times, trying many and retaining zero. It was a bit depressing, frustrating to say the least.&lt;/p&gt;
&lt;p&gt;Then I encountered &lt;a href=&#34;https://twitter.com/#!/mitsuhiko/statuses/166570613295689728&#34;&gt;this tweet by Armin Ronacher&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet tw-align-center&#34;&gt;
    &lt;p&gt;Frozen-Flask is really, really useful. Should have used that earlier.&lt;/p&gt;&amp;mdash; Armin Ronacher (@mitsuhiko) &lt;a href=&#34;https://twitter.com/mitsuhiko/status/166570613295689728&#34; data-datetime=&#34;2012-02-06T17:15:03+00:00&#34;&gt;February 6, 2012&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&#34;http://lucumr.pocoo.org/&#34;&gt;Armin&lt;/a&gt; is the author of &lt;a href=&#34;http://flask.pocoo.org/&#34;&gt;Flask&lt;/a&gt;, a Python microframework I much appreciate for its simplicity, so this tweet immediately rang a bell and I started exploring the possibilities offered by &lt;a href=&#34;http://packages.python.org/Frozen-Flask/&#34;&gt;Frozen-Flask&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Frozen-Flask basically &lt;em&gt;freezes&lt;/em&gt; a Flask application into a set of static files, so you can host it without pain, but with speed. Combined with &lt;a href=&#34;http://packages.python.org/Flask-FlatPages/&#34;&gt;Flask-FlatPages&lt;/a&gt;, you got the perfect set for generating your static website with everything you could expect by using a framework:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cool uris &amp;amp; easy routing management&lt;/li&gt;
&lt;li&gt;powerful templating&lt;/li&gt;
&lt;li&gt;local, dynamic serving&lt;/li&gt;
&lt;li&gt;static version generation&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;First iteration: project setup&lt;/h2&gt;
&lt;p&gt;Create a brand new &lt;a href=&#34;http://pypi.python.org/pypi/virtualenv&#34;&gt;virtualenv&lt;/a&gt; in a new directory and install the necessary packages using &lt;a href=&#34;http://pypi.python.org/pypi/pip&#34;&gt;pip&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ mkdir sample_project &amp;amp;&amp;amp; cd !$
$ mkvirtualenv --no-site-packages `pwd`/env
$ source env/bin/activate
$ pip install Flask Frozen-Flask Flask-FlatPages
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Write a very first version of our app in a &lt;code&gt;sitebuilder.py&lt;/code&gt; file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;from flask import Flask
app = Flask(__name__)

@app.route(&#34;/&#34;)
def index():
    return &#34;Hello World!&#34;

if __name__ == &#34;__main__&#34;:
    app.run(port=8000)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Run it; you should see someting like:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ python sitebuilder.py
 * Running on http://127.0.0.1:8000/
 * Restarting with reloader
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ensure with your browser that everyting is going fine by heading at &lt;code&gt;http://127.0.0.1:8000/&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;New iteration: adding &lt;em&gt;flat pages&lt;/em&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;http://packages.python.org/Flask-FlatPages/&#34;&gt;Flask-FlatPages&lt;/a&gt; provides a collection of pages to your Flask application. Pages are built from &lt;em&gt;flat&lt;/em&gt; text files as opposed to a relational database.&lt;/p&gt;
&lt;p&gt;Create a &lt;code&gt;pages/&lt;/code&gt; directory at the root of your project folder, and put a &lt;code&gt;hello-world.md&lt;/code&gt; file in there:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ mkdir pages
$ vi pages/hello-world.md
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;pages/hello-world.md&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;unpretty&#34;&gt;&lt;code&gt;title: Hello World
date: 2012-03-04

**Hello World**, from a *page*!
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As you can see, we can write plain &lt;a href=&#34;http://daringfireball.net/projects/markdown/&#34;&gt;Markdown&lt;/a&gt; for our page contents. So let&#39;s rewrite our app to serve any flatpage by its filename:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;from flask import Flask
from flask_flatpages import FlatPages

DEBUG = True
FLATPAGES_AUTO_RELOAD = DEBUG
FLATPAGES_EXTENSION = &#39;.md&#39;

app = Flask(__name__)
app.config.from_object(__name__)
pages = FlatPages(app)

@app.route(&#39;/&#39;)
def index():
    return &#34;Hello World&#34;

@app.route(&#39;/&amp;lt;path:path&amp;gt;/&#39;)
def page(path):
    return pages.get_or_404(path).html

if __name__ == &#39;__main__&#39;:
    app.run(port=8000)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now requesting &lt;code&gt;http://127.0.0.1:8000/hello-world/&lt;/code&gt; will display our flatpage. Note that the markdown source is converted to html by getting the &lt;code&gt;html&lt;/code&gt; property of our page object.&lt;/p&gt;
&lt;h2&gt;New iteration: adding templates&lt;/h2&gt;
&lt;p&gt;Flask uses the &lt;a href=&#34;http://jinja.pocoo.org/docs/&#34;&gt;Jinja2&lt;/a&gt; template engine, so let&#39;s create some templates to decorate our pages. First create a &lt;code&gt;templates&lt;/code&gt; directory at the root of the project:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ mkdir templates
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Create a base layout in &lt;code&gt;templates/base.html&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;!doctype html&amp;gt;
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;meta charset=&#34;utf-8&#34;&amp;gt;
    &amp;lt;title&amp;gt;My site&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;h1&amp;gt;&amp;lt;a href=&#34;{{ url_for(&#34;index&#34;) }}&#34;&amp;gt;My site&amp;lt;/a&amp;gt;&amp;lt;/h1&amp;gt;
{% block content %}
    &amp;lt;p&amp;gt;Default content to be displayed&amp;lt;/p&amp;gt;
{% endblock content %}
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note the use of the &lt;code&gt;url_for()&lt;/code&gt; template helper, that&#39;s the way we generate urls using Flask and Jinja2.&lt;/p&gt;
&lt;p&gt;Now the &lt;code&gt;page.html&lt;/code&gt; template to fill this layout with page contents:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{% extends &#34;base.html&#34; %}

{% block content %}
    &amp;lt;h2&amp;gt;{{ page.title }}&amp;lt;/h2&amp;gt;
    {{ page.html|safe }}
{% endblock content %}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Our app is now:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;from flask import Flask, render_template
from flaskext.flatpages import FlatPages

DEBUG = True
FLATPAGES_AUTO_RELOAD = DEBUG
FLATPAGES_EXTENSION = &#39;.md&#39;

app = Flask(__name__)
app.config.from_object(__name__)
pages = FlatPages(app)

@app.route(&#39;/&#39;)
def index():
    return &#34;Hello World&#34;

@app.route(&#39;/&amp;lt;path:path&amp;gt;/&#39;)
def page(path):
    page = pages.get_or_404(path)
    return render_template(&#39;page.html&#39;, page=page)

if __name__ == &#39;__main__&#39;:
    app.run(port=8000)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Hell, what did we just do?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;we created templates for our app; a common layout (&lt;code&gt;base.html&lt;/code&gt;) and a page template (&lt;code&gt;page.html&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;we used the &lt;code&gt;render_template&lt;/code&gt; function to use the page template for decorating our pages&lt;/li&gt;
&lt;li&gt;the page template extends the base one to avoid copying and pasting stuff for every page on Earth&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;New iteration: display the list of available pages on the homepage&lt;/h2&gt;
&lt;p&gt;For now our homepage has been a bit sick, to say the least. Let&#39;s make it an index of all available pages.&lt;/p&gt;
&lt;p&gt;Create a &lt;code&gt;templates/index.html&lt;/code&gt; with the following contents:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{% extends &#34;base.html&#34; %}

{% block content %}
    &amp;lt;h2&amp;gt;List of stuff&amp;lt;/h2&amp;gt;
    &amp;lt;ul&amp;gt;
    {% for page in pages %}
        &amp;lt;li&amp;gt;
            &amp;lt;a href=&#34;{{ url_for(&#34;page&#34;, path=page.path) }}&#34;&amp;gt;{{ page.title }}&amp;lt;/a&amp;gt;
        &amp;lt;/li&amp;gt;
    {% else %}
        &amp;lt;li&amp;gt;No stuff.&amp;lt;/li&amp;gt;
    {% endfor %}
    &amp;lt;/ul&amp;gt;
{% endblock content %}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Feel free to create more flat pages, the same way we did with &lt;code&gt;hello-world.md&lt;/code&gt;, storing the file into the &lt;code&gt;pages/&lt;/code&gt; directory using the &lt;code&gt;.md&lt;/code&gt; extension.&lt;/p&gt;
&lt;p&gt;So the &lt;code&gt;index()&lt;/code&gt; route of our app is now:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@app.route(&#39;/&#39;)
def index():
    return render_template(&#39;index.html&#39;, pages=pages)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you reload the homepage, a list of all available flatpages is displayed with a link for each. Damn, that was pretty easy.&lt;/p&gt;
&lt;h2&gt;New iteration: adding metadata to pages&lt;/h2&gt;
&lt;p&gt;Flask-FlatPages allows to enter metadata for pages the same way we did for the title and the creation date with our &lt;code&gt;hello-world.md&lt;/code&gt;, and access them using the &lt;code&gt;page.meta&lt;/code&gt; property, which contains a plain silly python dict. That&#39;s pretty awesome when you think about it, heh?&lt;/p&gt;
&lt;p&gt;So let&#39;s imagine you want tags for your pages, our &lt;code&gt;hello-world.md&lt;/code&gt; becomes:&lt;/p&gt;
&lt;pre class=&#34;unpretty&#34;&gt;&lt;code&gt;title: Hello World
date: 2012-03-04
tags: [general, awesome, stuff]

**Hello World**, from a *page*!
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For the records, metadata are described in &lt;a href=&#34;http://yaml.org/&#34;&gt;YAML&lt;/a&gt;, so you can use strings, booleans, integers, floats, lists and even dicts which will be converted to their respective native Python equivalent.&lt;/p&gt;
&lt;p&gt;We&#39;re going to use two different templates for listing general pages and tagged ones, using a shared template partial. Our &lt;code&gt;index.html&lt;/code&gt; is now:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{% extends &#34;base.html&#34; %}

{% block content %}
    &amp;lt;h2&amp;gt;List of stuff&amp;lt;/h2&amp;gt;
    {% with pages=pages  %}
        {% include &#34;_list.html&#34; %}
    {% endwith %}
{% endblock content %}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Create a new &lt;code&gt;tag.html&lt;/code&gt; template, which will display the list of tagged pages:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{% extends &#34;base.html&#34; %}

{% block content %}
    &amp;lt;h2&amp;gt;List of stuff tagged &amp;lt;em&amp;gt;{{ tag }}&amp;lt;/em&amp;gt;&amp;lt;/h2&amp;gt;
    {% with pages=pages  %}
        {% include &#34;_list.html&#34; %}
    {% endwith %}
{% endblock content %}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The new &lt;code&gt;_list.html&lt;/code&gt; template we need for inclusion contains:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;ul&amp;gt;
{% for page in pages %}
    &amp;lt;li&amp;gt;
        &amp;lt;a href=&#34;{{ url_for(&#34;page&#34;, path=page.path) }}&#34;&amp;gt;{{ page.title }}&amp;lt;/a&amp;gt;
    {% if page.meta.tags|length %}
        | Tagged:
        {% for page_tag in page.meta.tags %}
            &amp;lt;a href=&#34;{{ url_for(&#34;tag&#34;, tag=page_tag) }}&#34;&amp;gt;{{ page_tag }}&amp;lt;/a&amp;gt;
        {% endfor %}
    {% endif %}
    &amp;lt;/li&amp;gt;
{% else %}
    &amp;lt;li&amp;gt;No page.&amp;lt;/li&amp;gt;
{% endfor %}
&amp;lt;/ul&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let&#39;s add a new &lt;code&gt;tag&lt;/code&gt; route to our app, to use our new &lt;code&gt;tag.html&lt;/code&gt; template:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@app.route(&#39;/tag/&amp;lt;string:tag&amp;gt;/&#39;)
def tag(tag):
    tagged = [p for p in pages if tag in p.meta.get(&#39;tags&#39;, [])]
    return render_template(&#39;tag.html&#39;, pages=tagged, tag=tag)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; if you didn&#39;t like Python&#39;s &lt;a href=&#34;http://www.network-theory.co.uk/docs/pytut/ListComprehensions.html&#34;&gt;list comprehensions&lt;/a&gt; yet, now you do.&lt;/p&gt;
&lt;h2&gt;New iteration: generate the static stuff&lt;/h2&gt;
&lt;p&gt;Well, for now we only have a dynamic website, which uses and serves flatpages stored on the filesystem: CRAP. But the idea&#39;s of course not to host a Flask app but a set of static files and assets to skip the need of any application server.&lt;/p&gt;
&lt;p&gt;Here enters Frozen-Flask. Its use is damn easy:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;import sys

from flask import Flask, render_template
from flask_flatpages import FlatPages
from flask_frozen import Freezer

DEBUG = True
FLATPAGES_AUTO_RELOAD = DEBUG
FLATPAGES_EXTENSION = &#39;.md&#39;

app = Flask(__name__)
app.config.from_object(__name__)
pages = FlatPages(app)
freezer = Freezer(app)

@app.route(&#39;/&#39;)
def index():
    return render_template(&#39;index.html&#39;, pages=pages)

@app.route(&#39;/tag/&amp;lt;string:tag&amp;gt;/&#39;)
def tag(tag):
    tagged = [p for p in pages if tag in p.meta.get(&#39;tags&#39;, [])]
    return render_template(&#39;tag.html&#39;, pages=tagged, tag=tag)

@app.route(&#39;/&amp;lt;path:path&amp;gt;/&#39;)
def page(path):
    page = pages.get_or_404(path)
    return render_template(&#39;page.html&#39;, page=page)

if __name__ == &#39;__main__&#39;:
    if len(sys.argv) &amp;gt; 1 and sys.argv[1] == &#34;build&#34;:
        freezer.freeze()
    else:
        app.run(port=8000)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ python sitebuilder.py build
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Open the &lt;code&gt;build&lt;/code&gt; folder generated by this command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ tree
.
├── hello-world
│   └── index.html
├── index.html
└── tag
    ├── awesome
    │   └── index.html
    ├── general
    │   └── index.html
    └── stuff
        └── index.html

5 directories, 5 files
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;MIND: BLOWN.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You can now deploy the contents of this &lt;code&gt;build&lt;/code&gt; directory to any webserver which&#39;s able to serve static files, and you&#39;re done. With just 34 lines of manually written Python code… not bad heh?&lt;/p&gt;
&lt;p&gt;Of course, our website is pretty crappy right now, but you should be get started to add features on your own, now.&lt;/p&gt;</description>
            <pubDate>Sun, 04 Mar 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/code/2012/dead-easy-yet-powerful-static-website-generator-with-flask/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Nouveau site</title>
            <link>https://nicolas.perriault.net/carnet/2012/nouveau-site/</link>
            <description>&lt;p&gt;&lt;strong&gt;J&#39;avais envie de fédérer l&#39;ensemble de ma &lt;em&gt;production numérique&lt;/em&gt; au sein d&#39;un seul et même site, c&#39;est donc chose faite si vous lisez ces quelques lignes.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;J&#39;ai essayé de résumer au maximum mes activités principales, du moins celles que je trouve potentiellement dignes d&#39;intérêt pour autrui et sur lesquelles j&#39;ai envie de communiquer publiquement&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;le &lt;a href=&#34;/code&#34;&gt;développement Web&lt;/a&gt;, en anglais, où je parlerai de ce qui à trait à la technicité de mon métier&amp;nbsp;;&lt;/li&gt;
&lt;li&gt;la &lt;a href=&#34;/photography&#34;&gt;photographie&lt;/a&gt;, où je publierai les photos que je trouve les plus intéressantes&amp;nbsp;;&lt;/li&gt;
&lt;li&gt;mes &lt;a href=&#34;/talks&#34;&gt;interventions publiques en conférence&lt;/a&gt;, plus à des fins d&#39;archivage personnel que pour faire reluire mon ego&amp;nbsp;;&lt;/li&gt;
&lt;li&gt;pour toutes les autres choses qui me passent par la tête, un &lt;a href=&#34;/carnet&#34;&gt;carnet en français&lt;/a&gt; fera vraisemblablement l&#39;affaire. La preuve.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;La carrosserie&lt;/h2&gt;
&lt;p&gt;Je voulais quelque chose de simple, efficace et épuré au maximum. Le contenu textuel est largement mis en avant, sauf dans le cas des photographies où l&#39;image prime bien évidemment.&lt;/p&gt;
&lt;p&gt;J&#39;ai choisi la police &lt;em&gt;Palatino&lt;/em&gt;, parce qu&#39;elle sied à mon regard et qu&#39;elle est disponible sur la plupart des plateformes, mobile y compris.&lt;/p&gt;
&lt;p&gt;J&#39;ai essayé de faire attention à l&#39;importance de l&#39;espace, de mettre en valeur le vide et le rythme typographique, même si je ne suis pas encore pleinement satisfait du résultat. En même temps, c&#39;est comme ça qu&#39;on apprend.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note: Je n&#39;ai pas le projet à court terme de rendre ce site compatible avec les caprices du moteur de rendu d&#39;Internet Explorer. J&#39;ose espérer que la version 9 du navigateur ne maltraite pas trop l&#39;affichage, mais d&#39;expérience, rien n&#39;est moins sûr. Peu importe.&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;Sous le capot&lt;/h2&gt;
&lt;p&gt;Je n&#39;ai utilisé aucun framework CSS, juste quelques styles bien sentis. Et ça fait plutôt pas mal le taf, en restant très léger et maintenable notamment grâce à &lt;a href=&#34;http://lesscss.org/&#34;&gt;LESS&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Côté moteur, j&#39;ai développé un petit générateur de site statique sur base &lt;a href=&#34;http://flask.pocoo.org/&#34;&gt;Flask&lt;/a&gt;, un microframework en Python que je vous enjoins à considérer tellement il est efficace et bien documenté. Mais je vous en dirai un peu plus dans un prochain billet technique à paraître prochainement.&lt;/p&gt;
&lt;p&gt;Les billets sont écrits en &lt;a href=&#34;http://daringfireball.net/projects/markdown&#34;&gt;markdown&lt;/a&gt;, une syntaxe simple et limitée (d&#39;aucuns suggéreront que qui se ressemble s&#39;assemble, mais j&#39;emmerde d&#39;aucuns).&lt;/p&gt;
&lt;h2&gt;À venir&lt;/h2&gt;
&lt;p&gt;Il me reste pas mal de photos à importer et quelques redirections permanentes à mettre en place, mais je suis globalement plutôt satisfait du résultat. Surtout, je vais pouvoir me remettre à écrire autre chose que des &lt;a href=&#34;https://twitter.com/n1k0&#34;&gt;&lt;em&gt;tweets&lt;/em&gt;&lt;/a&gt;, et ça c&#39;est plutôt cool.&lt;/p&gt;</description>
            <pubDate>Sat, 03 Mar 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/carnet/2012/nouveau-site/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Gandi Standard SSL Certificate &amp; Nginx</title>
            <link>https://nicolas.perriault.net/code/2012/gandi-standard-ssl-certificate-nginx/</link>
            <description>&lt;p&gt;&lt;a href=&#34;http://gandi.net/&#34;&gt;Gandi&lt;/a&gt; offers a &lt;a href=&#34;http://wiki.gandi.net/en/ssl/free&#34;&gt;free SSL certificate&lt;/a&gt; during one year for any domain you buy there, nice. But the setup is a bit tedious and the documentation a bit disparate, so here&#39;s an attempt for a comprehensive howto for configuring a secured &lt;a href=&#34;http://nginx.org/&#34;&gt;nginx&lt;/a&gt; vhost using your &lt;em&gt;free&lt;/em&gt; certificate.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Disclaimer:&lt;/strong&gt; &lt;em&gt;Gandi&#39;s quite complicated email confirmation and validation workflow won&#39;t be covered in this post. Just ensure you can receive emails at &lt;code&gt;admin@domain.tld&lt;/code&gt; where &lt;code&gt;domain.tld&lt;/code&gt; is your domain.&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;Creating your certificate&lt;/h2&gt;
&lt;p&gt;On your server, ensure you have the &lt;a href=&#34;http://openssl.org/&#34;&gt;&lt;code&gt;openssl&lt;/code&gt;&lt;/a&gt; command available or install it. Then, &lt;a href=&#34;http://wiki.gandi.net/en/ssl/csr&#34;&gt;generate your CSR&lt;/a&gt; (&lt;code&gt;domain.tld&lt;/code&gt; is your actual domain):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ openssl req -nodes -newkey rsa:2048 -keyout domain.tld.key \
    -out domain.tld.csr
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Answer a few questions from the program, but here&#39;s the most important bit: &lt;strong&gt;enter your domain or subdomain when prompted to provide a &lt;em&gt;Common Name&lt;/em&gt;&lt;/strong&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Common Name (eg, YOUR name) []: domain.tld
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As they say:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The process will create 2 files: a public &lt;code&gt;.csr&lt;/code&gt; file, and a private &lt;code&gt;.key&lt;/code&gt; file which you must absolutely keep private.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;em&gt;Alas, you won&#39;t be able to extend your certificate to all possible subdomains using a wildcard as it is &lt;a href=&#34;http://wiki.gandi.net/questions/fr/ssl/csr/multi-domaine-non-accepte&#34;&gt;only supported starting with their &lt;em&gt;«Pro»&lt;/em&gt; offer&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Have a coffee.&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;Enter &lt;del&gt;Sandman&lt;/del&gt; Franz Kafka&lt;/h2&gt;
&lt;p&gt;Next, head to your &lt;a href=&#34;https://www.gandi.net/admin/domain&#34;&gt;Gandi domain management page&lt;/a&gt;, select your domain, click on  &lt;em&gt;SSL Certificate: Manage&lt;/em&gt;, click on &lt;em&gt;Activate this certificate&lt;/em&gt; then Paste the content of the generated &lt;code&gt;domain.tld.csr&lt;/code&gt; file into the textarea and submit the form. Then wait for some email from Gandi to confirm your demand.&lt;/p&gt;
&lt;p&gt;In the meanwhile, &lt;a href=&#34;http://wiki.gandi.net/en/ssl/intermediate&#34;&gt;retrieve the intermediate certificate&lt;/a&gt; from the &lt;a href=&#34;https://www.gandi.net/admin/ssl/manage&#34;&gt;SSL certificate management page&lt;/a&gt; of your Gandi account, clicking on the tiny magnifying glass next to your domain name (the one with a nicely hidden &lt;em&gt;«Get the certificate»&lt;/em&gt; tooltip on rollover); you&#39;ll get both the certificate and &lt;em&gt;Gandi&#39;s operational certificate authority&lt;/em&gt; files:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cert-domain.tld.pem&lt;/code&gt;, where &lt;code&gt;domain.tld&lt;/code&gt; is your actual domain&lt;/li&gt;
&lt;li&gt;&lt;code&gt;GandiStandardSSLCA.pem&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Upload them both to your server, store them in eg. &lt;code&gt;/etc/nginx/certificates/&lt;/code&gt; (nope, this directory is unlikely to exist by default; do as you like).&lt;/p&gt;
&lt;p&gt;Last, you have to append the Gandi CA to your domain certificate:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat GandiStandardSSLCA.pem &amp;gt;&amp;gt; cert-domain.tld.crt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Have a capuccino.&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;Configuring the nginx vhost&lt;/h2&gt;
&lt;p&gt;Here&#39;s a sample vhost server configuration for nginx, kept as concise as possible for the sake of brevity and clarity:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;server {
    listen 443;
    server_name &#34;domain.tld&#34;;
    root /var/www/your_website_root;

    ssl on;
    ssl_certificate     /etc/nginx/certificates/cert-domain.tld.crt;
    ssl_certificate_key /etc/nginx/certificates/domain.tld.key;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Restart nginx and you should be able to access your website using &lt;code&gt;https://domain.tld/&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;To redirect all HTTP trafic to HTTPS for this server, add this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;server {
    listen 80;
    server_name &#34;domain.tld&#34;;
    rewrite ^(.*) https://$host$1 permanent;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Have a latte.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;At this point, you should be seriously considering quitting caffeine. As a positive note, it looks like the whole process will be revamped in &lt;em&gt;some weeks&lt;/em&gt;:&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet tw-align-center&#34; data-in-reply-to=&#34;174864441731588096&#34;&gt;
    &lt;p&gt;@&lt;a href=&#34;https://twitter.com/n1k0&#34;&gt;n1k0&lt;/a&gt; browsers (ff and others) allow us to validate via a DNS entry we will change the workflow in some weeks when we&#39;ll put it in the API.&lt;/p&gt;&amp;mdash; gandi.net (@gandi_net) &lt;a href=&#34;https://twitter.com/gandi_net/status/174909743612166144&#34; data-datetime=&#34;2012-02-29T17:31:47+00:00&#34;&gt;February 29, 2012&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;If you&#39;re looking for other alternatives than Gandi for getting SSL certs, it seems that many people are speaking well of &lt;a href=&#34;http://www.startssl.com/&#34;&gt;StartSSL&lt;/a&gt; despite their ugly site, but I didn&#39;t use the service myself.&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://wiki.gandi.net/en/ssl&#34;&gt;Gandi SSL wiki pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.informathic.com/post/2010/12/24/installer-ssl-gandi-nginx&#34;&gt;Installer un certificat Gandi SSL Standard sur Nginx&lt;/a&gt; (French)&lt;/li&gt;
&lt;/ul&gt;</description>
            <pubDate>Wed, 29 Feb 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/code/2012/gandi-standard-ssl-certificate-nginx/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>L’Espiguette</title>
            <link>https://nicolas.perriault.net/photography/2012/espiguette/</link>
            <description>&lt;p&gt;&lt;img src=&quot;/static/photography/2012/espiguette/main.jpg&quot; alt=&quot;L’Espiguette by Nicolas Perriault&quot;&gt;&lt;/p&gt;&lt;p&gt;Plage de l&#39;Espiguette, janvier 2012&lt;/p&gt;&lt;p&gt;Some oldies I never took the time to publish.&lt;/p&gt;</description>
            <pubDate>Wed, 15 Feb 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/photography/2012/espiguette/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Communism is Dead</title>
            <link>https://nicolas.perriault.net/photography/2012/communism-is-dead/</link>
            <description>&lt;p&gt;&lt;img src=&quot;/static/photography/2012/communism-is-dead/main.jpg&quot; alt=&quot;Communism is Dead by Nicolas Perriault&quot;&gt;&lt;/p&gt;&lt;p&gt;Signs of the times?&lt;/p&gt;</description>
            <pubDate>Tue, 14 Feb 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/photography/2012/communism-is-dead/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Follow the Black Dog</title>
            <link>https://nicolas.perriault.net/photography/2012/follow-the-black-dog/</link>
            <description>&lt;p&gt;&lt;img src=&quot;/static/photography/2012/follow-the-black-dog/main.jpg&quot; alt=&quot;Follow the Black Dog by Nicolas Perriault&quot;&gt;&lt;/p&gt;&lt;p&gt;Small street in Sommières, France&lt;/p&gt;&lt;p&gt;White rabbits are overrated.&lt;/p&gt;</description>
            <pubDate>Tue, 14 Feb 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/photography/2012/follow-the-black-dog/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Mystery Door</title>
            <link>https://nicolas.perriault.net/photography/2012/mystery-door/</link>
            <description>&lt;p&gt;&lt;img src=&quot;/static/photography/2012/mystery-door/main.jpg&quot; alt=&quot;Mystery Door by Nicolas Perriault&quot;&gt;&lt;/p&gt;</description>
            <pubDate>Sat, 11 Feb 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/photography/2012/mystery-door/</guid>
        </item>
        <item>
            <author>nicolas+rss@perriault.net (Nicolas Perriault)</author>
            <title>Presqu’île de Maguelone</title>
            <link>https://nicolas.perriault.net/photography/2012/presqu-ile-de-maguelone/</link>
            <description>&lt;p&gt;&lt;img src=&quot;/static/photography/2012/presqu-ile-de-maguelone/main.jpg&quot; alt=&quot;Presqu’île de Maguelone by Nicolas Perriault&quot;&gt;&lt;/p&gt;</description>
            <pubDate>Mon, 02 Jan 2012 00:00:00 +0000</pubDate>
            <guid>https://nicolas.perriault.net/photography/2012/presqu-ile-de-maguelone/</guid>
        </item>
        
    </channel>
</rss>